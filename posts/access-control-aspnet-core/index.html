<!doctype html><html class="no-js" lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#15a"><title>Your [Authorize] Attribute Is Compliance Theater
— Daily DevOps & .NET</title><meta name="description" content="Your [Authorize] attributes give you a false sense of security. ISO 27001 auditors see right through it.
I&rsquo;ve …"><meta name="twitter:description" property="og:description" content="Your [Authorize] attributes give you a false sense of security. ISO 27001 auditors see right through it.
I&rsquo;ve …"><meta name="author" content="Martin Stühmer"><link rel="icon" href="/logo.svg?v=b9e294dc5c6fa04439c8c803d8e981a9" sizes="any" type="image/svg+xml"><meta name="twitter:title" property="og:title" content="Your [Authorize] Attribute Is Compliance Theater
 — Daily DevOps & .NET"><meta property="og:updated_time" content="2026-01-27T17:06:26+01:00"><meta property="article:modified_time" content="2026-01-27T17:06:26+01:00"><meta property="article:published_time" content="2026-01-27T17:00:00+01:00"><meta property="og:type" content="article"><meta property="og:site_name" content="Daily DevOps & .NET"><meta property="og:url" content="https://daily-devops.net/posts/access-control-aspnet-core/"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary_large_image"><meta property="og:image" name="twitter:image" content="https://daily-devops.net/images/security-1200x630.webp?v=23a02c90b4722e133963cc7c0a010b71"><meta property="og:image:secure_url" content="https://daily-devops.net/images/security-1200x630.webp?v=23a02c90b4722e133963cc7c0a010b71"><meta property="og:image:alt" name="twitter:image:alt" content="Your [Authorize] Attribute Is Compliance Theater
"><meta property="og:image:type" content="image/webp"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:image" name="twitter:image" content="https://daily-devops.net/images/security-1200x630.png?v=c25b02c29e701934a389f13185e3526a"><meta property="og:image:secure_url" content="https://daily-devops.net/images/security-1200x630.png?v=c25b02c29e701934a389f13185e3526a"><meta property="og:image:alt" name="twitter:image:alt" content="Your [Authorize] Attribute Is Compliance Theater
"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><link rel="dns-prefetch" href="https://www.clarity.ms"><link rel="preconnect" href="https://www.clarity.ms" crossorigin><link rel="stylesheet" href="/css/style.min.0b2ef4378cd908eb695017aaa74603d244ff2b38c8068b4b51d76cad830c8ee5e3a40b67ab5b860a542c8bae73d8ba90cfbe9249b59c733a50de74cc32af818a.css" integrity="sha512-Cy70N4zZCOtpUBeqp0YD0kT/KzjIBotLUddsrYMMjuXjpAtnq1uGClQsi65z2LqQz76SSbWcczpQ3nTMMq+Big==" crossorigin="anonymous"><link rel="alternate" href='https://daily-devops.net/posts/access-control-aspnet-core/' hreflang="x-default" title="Your [Authorize] Attribute Is Compliance Theater
 &mdash; Daily DevOps & .NET"><link rel="canonical" href="https://daily-devops.net/posts/access-control-aspnet-core/" hreflang="en" title="Your [Authorize] Attribute Is Compliance Theater
 &mdash; Daily DevOps & .NET"><link rel="home" href="https://daily-devops.net/" hreflang="en" title="Daily DevOps & .NET"><link rel="next" href="https://daily-devops.net/posts/cluster-upgrades-zero-downtime-aks/" hreflang="en" title="AKS Cluster Upgrades: Zero-Downtime Operations That Actually Work
"><link rel="prev" href="https://daily-devops.net/posts/iso-standards-intro-dotnet-developers/" hreflang="en" title="Why ISO Standards Actually Matter for .NET Developers"><link rel="author" href="https://daily-devops.net/authors/martin/" hreflang="en" title="Martin Stühmer &mdash; Daily DevOps & .NET"><meta name="giscus:backlink" content="https://daily-devops.net/posts/access-control-aspnet-core/"><script defer src="/js/above.min.cb42b2c9a453e49e278326637d72d2f01e7f32e3f91e9cdde8fb587793d05514efd2f5cc5021c9658ca0f73876dbdcd1f7cb4a37c0bebc9df01110926b6d7cba.js" integrity="sha512-y0KyyaRT5J4ngyZjfXLS8B5/MuP5Hpzd6PtYd5PQVRTv0vXMUCHJZYyg9zh229zR98tKN8C+vJ3wERCSa218ug==" crossorigin="anonymous"></script><script type="text/javascript">(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","o0pr4n9gg3")</script><script src="https://analytics.ahrefs.com/analytics.js" data-key="C5Iv+2Rb9el+FLJqVw2QGA" async></script></head><body class="container"><header class="header"><a class="logo" href="/" title="Daily DevOps & .NET" rel="home"><figure class="page-logo"><picture><img src="/logo.svg?v=b9e294dc5c6fa04439c8c803d8e981a9" alt="Daily DevOps & .NET" title="Daily DevOps & .NET"></picture></figure><span class="title">Daily DevOps & .NET</span></a><nav class="menu" aria-label="Main navigation"><button class="burger" type="button" aria-haspopup="menu" aria-expanded="false" aria-label="Toggle menu">
<i class="fas fa-burger" aria-hidden="true"></i></button><ul class="navigation"><li class="active"><a href="/posts/">Posts</a></li><li><a href="/authors/">About us</a></li></ul></nav><div class="divider"></div></header><main class="body"><figure class="hero"><picture><source srcset="/images/security-544x136.webp?v=bfca7afe6fd8a89b9abc2e6578377ecd" type="image/webp" media="(max-width: 575.98px)"><source srcset="/images/security-544x136.png?v=a11669f57e90374669cb0babb25f5dbd" type="image/png" media="(max-width: 575.98px)"><source srcset="/images/security-672x168.webp?v=62a10e076f01e08d890102aa4e02ef93" type="image/webp" media="(max-width: 767.98px)"><source srcset="/images/security-672x168.png?v=663fb88cff6268534d435ce8ba0b3ee0" type="image/png" media="(max-width: 767.98px)"><source srcset="/images/security-896x224.webp?v=7d4031888869a0df21996cf3fa43c47e" type="image/webp" media="(max-width: 991.98px)"><source srcset="/images/security-896x224.png?v=1d4fafee73dde51bc042c4b668d3c0e7" type="image/png" media="(max-width: 991.98px)"><source srcset="/images/security-1104x276.webp?v=e674c46b67ccbd2bb5466b95f11f41f6" type="image/webp" media="(max-width: 1199.98px)"><source srcset="/images/security-1104x276.png?v=4c7fb78837d783fc30f62e069d44945f" type="image/png" media="(max-width: 1199.98px)"><source srcset="/images/security-1444x361.webp?v=eb0adef2553eb5c47b56f0ed044eacd0" type="image/webp"><source srcset="/images/security-1444x361.png?v=1338349ed2f41119c662cbd6151058f9" type="image/png"><img src="/images/security.png?v=530c4f0b5995d08df3450423fd03c5e0" alt="Your [Authorize] Attribute Is Compliance Theater
" loading="lazy" decoding="async" title="Your [Authorize] Attribute Is Compliance Theater
"></picture></figure><article class="post"><header><h1>Your [Authorize] Attribute Is Compliance Theater</h1></header><section class="content" role="region"><p><strong>Authentication proves identity. Authorization enforces access rights. ISO/IEC 27001 Control A.9 requires both — and teams consistently confuse them.</strong></p><p>I&rsquo;ve reviewed too many ASP.NET Core applications where authentication exists but authorization is theater. Teams feel secure because they see <code>[Authorize]</code> attributes on controllers. Then you find <code>[AllowAnonymous]</code> scattered across action methods, hardcoded role strings in business logic, and zero audit trail when authorization fails.</p><p>This isn&rsquo;t just bad architecture. <strong>It&rsquo;s a violation of ISO/IEC 27001 Control A.9 (Access Control)</strong>, which explicitly requires:</p><ul><li><strong>A.9.1:</strong> Business requirements of access control</li><li><strong>A.9.2:</strong> User access management</li><li><strong>A.9.4:</strong> System and application access control</li></ul><p>The standard doesn&rsquo;t care that your authentication works. It demands that access rights are enforced based on business rules, managed centrally, and audited comprehensively. String-based role checks scattered across your codebase don&rsquo;t satisfy any of those requirements.</p><p>Here&rsquo;s what inadequate access control looks like in the codebases I&rsquo;ve reviewed, why auditors flag it immediately, and what actually works.</p><h2 id="the-fatal-pattern-authentication-without-authorization"><a href="/posts/access-control-aspnet-core/#the-fatal-pattern-authentication-without-authorization" title="The Fatal Pattern: Authentication Without Authorization">The Fatal Pattern: Authentication Without Authorization</a></h2><p>Here&rsquo;s what I encounter repeatedly in ASP.NET Core applications that claim to be &ldquo;secure&rdquo;:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[Authorize]</span> <span class="c1">// Authentication required...</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">DocumentsController</span> <span class="p">:</span> <span class="n">ControllerBase</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...but anyone authenticated can access everything</span>
</span></span><span class="line"><span class="cl"><span class="na">    [HttpGet(&#34;{id}&#34;)]</span>
</span></span><span class="line"><span class="cl"><span class="na">    [AllowAnonymous]</span> <span class="c1">// Wait, why is this here?</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="n">GetDocument</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="na">    
</span></span></span><span class="line"><span class="cl"><span class="na">    [HttpPost]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="n">CreateDocument</span><span class="p">(</span><span class="n">CreateDocumentRequest</span> <span class="n">request</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Authorization check buried in business logic</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">User</span><span class="p">.</span><span class="n">IsInRole</span><span class="p">(</span><span class="s">&#34;DocumentCreator&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">Forbid</span><span class="p">();</span> <span class="c1">// No audit trail</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* ... */</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="na">    
</span></span></span><span class="line"><span class="cl"><span class="na">    [HttpDelete(&#34;{id}&#34;)]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="n">DeleteDocument</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Different pattern, same problem</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">userRoles</span> <span class="p">=</span> <span class="n">User</span><span class="p">.</span><span class="n">Claims</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">Type</span> <span class="p">==</span> <span class="n">ClaimTypes</span><span class="p">.</span><span class="n">Role</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">userRoles</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;Admin&#34;</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="n">userRoles</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;DocumentManager&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">Forbid</span><span class="p">();</span> <span class="c1">// Still no audit trail</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* ... */</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>This code violates <strong>multiple ISO 27001 controls simultaneously</strong>:</p><h3 id="violation-1-inconsistent-access-control-a941"><a href="/posts/access-control-aspnet-core/#violation-1-inconsistent-access-control-a941" title="Violation 1: Inconsistent Access Control (A.9.4.1)">Violation 1: Inconsistent Access Control (A.9.4.1)</a></h3><p>The <code>[AllowAnonymous]</code> attribute on <code>GetDocument</code> contradicts the controller-level <code>[Authorize]</code> attribute. Why does document retrieval bypass authentication entirely? This creates an access control gap that auditors will flag immediately.</p><p><strong>ISO requirement:</strong> &ldquo;Access to systems and applications shall be controlled in accordance with access control policy.&rdquo;</p><p>There is no coherent access control policy here. Anonymous access for reads, role checks for writes, and no documented business justification.</p><h3 id="violation-2-decentralized-authorization-logic-a921"><a href="/posts/access-control-aspnet-core/#violation-2-decentralized-authorization-logic-a921" title="Violation 2: Decentralized Authorization Logic (A.9.2.1)">Violation 2: Decentralized Authorization Logic (A.9.2.1)</a></h3><p>Authorization decisions are scattered across controller actions using different patterns:</p><ul><li>String-based role checks: <code>User.IsInRole("DocumentCreator")</code></li><li>Manual claim enumeration: <code>User.Claims.Where(...)</code></li><li>Inconsistent role requirements: <code>"Admin"</code> vs <code>"DocumentManager"</code> with no explanation</li></ul><p><strong>ISO requirement:</strong> &ldquo;A formal user access provisioning process shall be implemented to assign or revoke access rights.&rdquo;</p><p>How do you audit these access rights? Where is the central policy that defines who can create, read, update, or delete documents? The authorization rules are embedded in controller code. Every change requires a deployment. Every audit requires reading through controller implementations.</p><h3 id="violation-3-no-audit-trail-a945"><a href="/posts/access-control-aspnet-core/#violation-3-no-audit-trail-a945" title="Violation 3: No Audit Trail (A.9.4.5)">Violation 3: No Audit Trail (A.9.4.5)</a></h3><p>When authorization fails, the application returns <code>403 Forbidden</code>. But where&rsquo;s the audit log?</p><p><strong>ISO requirement:</strong> &ldquo;Access to information and application system functions shall be restricted in accordance with the access control policy.&rdquo;</p><p>The standard requires you to demonstrate that access controls are enforced. Without audit logs of authorization failures, you cannot prove compliance. Returning <code>Forbid()</code> silently discards evidence that the control was tested.</p><h3 id="violation-4-brittle-role-management-a922"><a href="/posts/access-control-aspnet-core/#violation-4-brittle-role-management-a922" title="Violation 4: Brittle Role Management (A.9.2.2)">Violation 4: Brittle Role Management (A.9.2.2)</a></h3><p>Hardcoded role strings like <code>"DocumentCreator"</code> and <code>"Admin"</code> create maintenance nightmares. When business requirements change:</p><ul><li>Which role takes precedence?</li><li>Who decides when roles should be renamed?</li><li>How do you handle role deprecation without breaking production?</li></ul><p><strong>ISO requirement:</strong> &ldquo;User access rights shall be reviewed at regular intervals.&rdquo;</p><p>You can&rsquo;t review access rights that are hardcoded strings scattered across dozens of controllers. Every review requires grepping the codebase and hoping developers remembered to update every location.</p><h2 id="what-actually-works-policy-based-authorization"><a href="/posts/access-control-aspnet-core/#what-actually-works-policy-based-authorization" title="What Actually Works: Policy-Based Authorization">What Actually Works: Policy-Based Authorization</a></h2><p>ISO 27001 Control A.9 is satisfied when authorization is:</p><ol><li><strong>Centralized</strong> — defined in one location, not scattered across controllers</li><li><strong>Policy-driven</strong> — based on business requirements, not implementation details</li><li><strong>Auditable</strong> — authorization decisions are logged comprehensively</li><li><strong>Testable</strong> — policies can be verified independently of controllers</li></ol><p>Here&rsquo;s how ASP.NET Core implements this correctly:</p><h3 id="step-1-define-authorization-policies"><a href="/posts/access-control-aspnet-core/#step-1-define-authorization-policies" title="Step 1: Define Authorization Policies">Step 1: Define Authorization Policies</a></h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Program.cs</span>
</span></span><span class="line"><span class="cl"><span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddAuthorization</span><span class="p">(</span><span class="n">options</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Business requirements become named policies</span>
</span></span><span class="line"><span class="cl">    <span class="n">options</span><span class="p">.</span><span class="n">AddPolicy</span><span class="p">(</span><span class="s">&#34;ViewDocuments&#34;</span><span class="p">,</span> <span class="n">policy</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="n">policy</span><span class="p">.</span><span class="n">RequireClaim</span><span class="p">(</span><span class="s">&#34;permission&#34;</span><span class="p">,</span> <span class="s">&#34;documents.read&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">options</span><span class="p">.</span><span class="n">AddPolicy</span><span class="p">(</span><span class="s">&#34;CreateDocuments&#34;</span><span class="p">,</span> <span class="n">policy</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="n">policy</span><span class="p">.</span><span class="n">RequireClaim</span><span class="p">(</span><span class="s">&#34;permission&#34;</span><span class="p">,</span> <span class="s">&#34;documents.write&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Resource-based authorization for ownership</span>
</span></span><span class="line"><span class="cl">    <span class="n">options</span><span class="p">.</span><span class="n">AddPolicy</span><span class="p">(</span><span class="s">&#34;EditOwnDocuments&#34;</span><span class="p">,</span> <span class="n">policy</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="n">policy</span><span class="p">.</span><span class="n">Requirements</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">DocumentOwnershipRequirement</span><span class="p">()));</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p>This satisfies <strong>A.9.1 (Business requirements of access control)</strong> by codifying access requirements as named policies that reflect business operations, not technical role names.</p><h3 id="step-2-implement-custom-authorization-handlers"><a href="/posts/access-control-aspnet-core/#step-2-implement-custom-authorization-handlers" title="Step 2: Implement Custom Authorization Handlers">Step 2: Implement Custom Authorization Handlers</a></h3><p>For complex business rules, use authorization handlers:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">DocumentOwnershipRequirement</span> <span class="p">:</span> <span class="n">IAuthorizationRequirement</span> <span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">DocumentOwnershipHandler</span> <span class="p">:</span> <span class="n">AuthorizationHandler</span><span class="p">&lt;</span><span class="n">DocumentOwnershipRequirement</span><span class="p">,</span> <span class="n">Document</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">ILogger</span><span class="p">&lt;</span><span class="n">DocumentOwnershipHandler</span><span class="p">&gt;</span> <span class="n">_logger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">protected</span> <span class="kd">override</span> <span class="n">Task</span> <span class="n">HandleRequirementAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">AuthorizationHandlerContext</span> <span class="n">context</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">DocumentOwnershipRequirement</span> <span class="n">requirement</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Document</span> <span class="n">resource</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">userId</span> <span class="p">=</span> <span class="n">context</span><span class="p">.</span><span class="n">User</span><span class="p">.</span><span class="n">FindFirst</span><span class="p">(</span><span class="n">ClaimTypes</span><span class="p">.</span><span class="n">NameIdentifier</span><span class="p">)?.</span><span class="n">Value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">userId</span> <span class="p">==</span> <span class="n">resource</span><span class="p">.</span><span class="n">OwnerId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">context</span><span class="p">.</span><span class="n">Succeed</span><span class="p">(</span><span class="n">requirement</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// A.9.4.5: Audit authorization failure</span>
</span></span><span class="line"><span class="cl">            <span class="n">_logger</span><span class="p">.</span><span class="n">LogWarning</span><span class="p">(</span><span class="s">&#34;User {UserId} denied access to document {DocumentId}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">userId</span><span class="p">,</span> <span class="n">resource</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">Task</span><span class="p">.</span><span class="n">CompletedTask</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>This satisfies <strong>A.9.4.1 (Restriction of access to information)</strong> by centralizing business logic that determines access rights. Authorization decisions are made in one location, not repeated across controllers.</p><h3 id="step-3-apply-policies-declaratively"><a href="/posts/access-control-aspnet-core/#step-3-apply-policies-declaratively" title="Step 3: Apply Policies Declaratively">Step 3: Apply Policies Declaratively</a></h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[Authorize]</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">DocumentsController</span> <span class="p">:</span> <span class="n">ControllerBase</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">IAuthorizationService</span> <span class="n">_authorizationService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">ILogger</span><span class="p">&lt;</span><span class="n">DocumentsController</span><span class="p">&gt;</span> <span class="n">_logger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="na">    
</span></span></span><span class="line"><span class="cl"><span class="na">    [HttpGet(&#34;{id}&#34;)]</span>
</span></span><span class="line"><span class="cl"><span class="na">    [Authorize(Policy = &#34;ViewDocuments&#34;)]</span>  <span class="c1">// Declarative policy</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="n">GetDocument</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">document</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_documentService</span><span class="p">.</span><span class="n">GetDocumentAsync</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">document</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span> <span class="k">return</span> <span class="n">NotFound</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Resource-based authorization for ownership</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">authResult</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_authorizationService</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="n">AuthorizeAsync</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">document</span><span class="p">,</span> <span class="s">&#34;EditOwnDocuments&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">authResult</span><span class="p">.</span><span class="n">Succeeded</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">// A.9.4.5: Audit authorization failure</span>
</span></span><span class="line"><span class="cl">            <span class="n">_logger</span><span class="p">.</span><span class="n">LogWarning</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="s">&#34;User {UserId} denied access to document {DocumentId}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">User</span><span class="p">.</span><span class="n">FindFirst</span><span class="p">(</span><span class="n">ClaimTypes</span><span class="p">.</span><span class="n">NameIdentifier</span><span class="p">)?.</span><span class="n">Value</span><span class="p">,</span> <span class="n">id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">Forbid</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">Ok</span><span class="p">(</span><span class="n">document</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="na">    
</span></span></span><span class="line"><span class="cl"><span class="na">    [HttpPost]</span>
</span></span><span class="line"><span class="cl"><span class="na">    [Authorize(Policy = &#34;CreateDocuments&#34;)]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="n">CreateDocument</span><span class="p">(</span><span class="n">CreateDocumentRequest</span> <span class="n">request</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">_logger</span><span class="p">.</span><span class="n">LogInformation</span><span class="p">(</span><span class="s">&#34;User {UserId} creating document&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">User</span><span class="p">.</span><span class="n">FindFirst</span><span class="p">(</span><span class="n">ClaimTypes</span><span class="p">.</span><span class="n">NameIdentifier</span><span class="p">)?.</span><span class="n">Value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* ... */</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="key-improvements"><a href="/posts/access-control-aspnet-core/#key-improvements" title="Key Improvements">Key Improvements</a></h3><ol><li><p><strong>Centralized Policy Definition:</strong> All authorization logic lives in <code>Program.cs</code>, not scattered across controllers. When business requirements change, you update policies in one location.</p></li><li><p><strong>Claims-Based Permissions:</strong> Instead of role strings, use permission claims (<code>documents.read</code>, <code>documents.write</code>, <code>documents.manage</code>). This separates identity (who you are) from authorization (what you can do).</p></li><li><p><strong>Resource-Based Authorization:</strong> Use <code>IAuthorizationService</code> for dynamic checks that depend on resource properties (e.g., document ownership). This handles scenarios where static policies aren&rsquo;t sufficient.</p></li><li><p><strong>Comprehensive Audit Logging:</strong> Every authorization decision is logged with context (user ID, resource ID, action attempted). This satisfies <strong>A.9.4.5</strong> audit requirements.</p></li></ol><h2 id="testing-authorization-policies"><a href="/posts/access-control-aspnet-core/#testing-authorization-policies" title="Testing Authorization Policies">Testing Authorization Policies</a></h2><p>ISO 27001 Control <strong>A.12.1.2</strong> requires testing of security controls. Here&rsquo;s how to verify authorization policies through automated integration tests:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">DocumentAuthorizationTests</span> <span class="p">:</span> <span class="n">IClassFixture</span><span class="p">&lt;</span><span class="n">WebApplicationFactory</span><span class="p">&lt;</span><span class="n">Program</span><span class="p">&gt;&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="na">    [Fact]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span> <span class="n">GetDocument_WithoutAuthentication_Returns401</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">_factory</span><span class="p">.</span><span class="n">CreateClient</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">GetAsync</span><span class="p">(</span><span class="s">&#34;/api/documents/1&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">Unauthorized</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="na">    
</span></span></span><span class="line"><span class="cl"><span class="na">    [Fact]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span> <span class="n">GetDocument_WithoutViewPermission_Returns403</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">_factory</span><span class="p">.</span><span class="n">CreateClient</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">client</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="n">Authorization</span> <span class="p">=</span> 
</span></span><span class="line"><span class="cl">            <span class="k">new</span> <span class="n">AuthenticationHeaderValue</span><span class="p">(</span><span class="s">&#34;Bearer&#34;</span><span class="p">,</span> <span class="n">TokenWithoutReadPermission</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">GetAsync</span><span class="p">(</span><span class="s">&#34;/api/documents/1&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">Forbidden</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">StatusCode</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="github-actions-integration"><a href="/posts/access-control-aspnet-core/#github-actions-integration" title="GitHub Actions Integration">GitHub Actions Integration</a></h3><p>Run these tests in CI/CD to verify authorization policies before deployment:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Security Compliance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">paths</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s1">&#39;src/**/*.cs&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s1">&#39;tests/**/*.cs&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">authorization-tests</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup .NET</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-dotnet@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">dotnet-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;9.0.x&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Run Authorization Tests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">dotnet test --filter &#34;Category=Authorization&#34; --logger &#34;trx;LogFileName=authorization-results.trx&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Publish Test Results</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l">always()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">EnricoMi/publish-unit-test-result-action@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">files</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;**/authorization-results.trx&#39;</span><span class="w">
</span></span></span></code></pre></div><p>This satisfies <strong>A.12.1.2 (Testing of security controls)</strong> by automating verification that access controls function as intended.</p><h2 id="health-checks-for-authentication-services"><a href="/posts/access-control-aspnet-core/#health-checks-for-authentication-services" title="Health Checks for Authentication Services">Health Checks for Authentication Services</a></h2><p>ISO 27001 Control <strong>A.17.1.1</strong> requires monitoring availability of critical services. Authentication is a critical service. Here&rsquo;s how to monitor it:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Program.cs</span>
</span></span><span class="line"><span class="cl"><span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddHealthChecks</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">AddCheck</span><span class="p">&lt;</span><span class="n">AuthenticationServiceHealthCheck</span><span class="p">&gt;(</span><span class="s">&#34;authentication&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">AuthenticationServiceHealthCheck</span> <span class="p">:</span> <span class="n">IHealthCheck</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">IConfiguration</span> <span class="n">_configuration</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">HttpClient</span> <span class="n">_httpClient</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">HealthCheckResult</span><span class="p">&gt;</span> <span class="n">CheckHealthAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">HealthCheckContext</span> <span class="n">context</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">CancellationToken</span> <span class="n">cancellationToken</span> <span class="p">=</span> <span class="k">default</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">authEndpoint</span> <span class="p">=</span> <span class="n">_configuration</span><span class="p">[</span><span class="s">&#34;Authentication:Authority&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">try</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_httpClient</span><span class="p">.</span><span class="n">GetAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="s">$&#34;{authEndpoint}/.well-known/openid-configuration&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">cancellationToken</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">response</span><span class="p">.</span><span class="n">IsSuccessStatusCode</span>
</span></span><span class="line"><span class="cl">                <span class="p">?</span> <span class="n">HealthCheckResult</span><span class="p">.</span><span class="n">Healthy</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="p">:</span> <span class="n">HealthCheckResult</span><span class="p">.</span><span class="n">Degraded</span><span class="p">(</span><span class="s">$&#34;Status: {response.StatusCode}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">HealthCheckResult</span><span class="p">.</span><span class="n">Unhealthy</span><span class="p">(</span><span class="s">&#34;Authentication unavailable&#34;</span><span class="p">,</span> <span class="n">ex</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Expose endpoint</span>
</span></span><span class="line"><span class="cl"><span class="n">app</span><span class="p">.</span><span class="n">MapHealthChecks</span><span class="p">(</span><span class="s">&#34;/health&#34;</span><span class="p">);</span>
</span></span></code></pre></div><p>This enables external monitoring systems to verify authentication service availability, satisfying operational monitoring requirements.</p><h2 id="mapping-iso-controls-to-implementation"><a href="/posts/access-control-aspnet-core/#mapping-iso-controls-to-implementation" title="Mapping ISO Controls to Implementation">Mapping ISO Controls to Implementation</a></h2><p>Here&rsquo;s how policy-based authorization satisfies specific ISO 27001 requirements:</p><table><thead><tr><th>ISO Control</th><th>Requirement</th><th>Implementation</th></tr></thead><tbody><tr><td><strong>A.9.1.1</strong></td><td>Access control policy</td><td>Centralized policy definitions in <code>Program.cs</code></td></tr><tr><td><strong>A.9.2.1</strong></td><td>User access provisioning</td><td>Claims-based permissions managed via identity provider</td></tr><tr><td><strong>A.9.2.2</strong></td><td>User access rights management</td><td>Permission claims reviewed and updated independently of code</td></tr><tr><td><strong>A.9.4.1</strong></td><td>Information access restriction</td><td><code>[Authorize(Policy = "...")]</code> attributes enforce policy</td></tr><tr><td><strong>A.9.4.5</strong></td><td>Access control to program source code</td><td>Resource-based authorization with <code>IAuthorizationService</code></td></tr><tr><td><strong>A.12.1.2</strong></td><td>Testing of security controls</td><td>Automated integration tests verify authorization logic</td></tr><tr><td><strong>A.12.4.1</strong></td><td>Event logging</td><td>Comprehensive audit logs of authorization decisions</td></tr><tr><td><strong>A.17.1.1</strong></td><td>Continuity capabilities</td><td>Health checks monitor authentication service availability</td></tr></tbody></table><h2 id="what-this-means-for-your-team"><a href="/posts/access-control-aspnet-core/#what-this-means-for-your-team" title="What This Means for Your Team">What This Means for Your Team</a></h2><p>If you&rsquo;re building ASP.NET Core applications that need to satisfy ISO 27001 compliance:</p><ol><li><p><strong>Stop using role strings in business logic.</strong> They scatter authorization decisions across your codebase, making audits painful and policy changes risky.</p></li><li><p><strong>Define authorization policies that map to business operations.</strong> <code>"ViewDocuments"</code> is clearer than checking whether <code>User.IsInRole("DocumentReader")</code> — though you&rsquo;ll need both policies and resource-based checks for complex scenarios.</p></li><li><p><strong>Use claims for permissions, not roles.</strong> Roles represent groups. Permissions represent capabilities. ISO 27001 cares about capabilities.</p></li><li><p><strong>Implement comprehensive audit logging.</strong> Every authorization failure must be logged with sufficient context to reconstruct what happened and why.</p></li><li><p><strong>Test your authorization policies.</strong> Write integration tests that verify policies work correctly. Run them in CI/CD before deployment.</p></li><li><p><strong>Monitor authentication service availability.</strong> Health checks aren&rsquo;t optional. They&rsquo;re how you demonstrate operational monitoring.</p></li></ol><p>Authentication proves identity. Authorization enforces access rights. ISO/IEC 27001 Control A.9 requires both.</p><p>The gap between <code>[Authorize]</code> and actual access control is where I find compliance violations in every audit. Policy-based authorization closes that gap — when you map policies to business operations, not developer convenience.</p></section><section class="giscus"><h2>Comments</h2><aside class="giscus" id="giscus-thread" role="region" aria-label="Comments"></aside></section><script src="https://giscus.app/client.js" data-repo="dailydevops/dailydevops.github.io" data-repo-id="R_kgDOHA8eFg" data-category="Announcements" data-category-id="DIC_kwDOHA8eFs4COIqL" data-mapping="pathname" data-strict="1" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="bottom" data-theme="light" data-lang="en" crossorigin="anonymous" async></script></article><aside class="sidebar divider"><section class="sidecar info" aria-labelledby="info-heading"><header><h2 id="info-heading" class="sr-only">Informations</h2></header><ul role="list"><li role="listitem"><time datetime="2026-01-27T17:00:00+01:00" itemprop="datePublished">Published on 1/27/26 5:00 pm</time></li><li>Read in 8 minutes</li></ul></section><section class="sidecar series" aria-labelledby="series-heading"><header><h2 id="series-heading">Series content</h2></header><nav class="series-nav" role="navigation" aria-label="Series content"><ul role="list"><li role="listitem"><a href="https://daily-devops.net/posts/iso-standards-intro-dotnet-developers/" title="Why ISO Standards Actually Matter for .NET Developers" target="_blank" rel="noopener external noreferrer"><i class="fas fa-angles-right" aria-hidden="true"></i>&nbsp;
Why ISO Standards Actually Matter for .NET Developers</a></li><li role="listitem"><a href="https://daily-devops.net/posts/access-control-aspnet-core/" title="Your [Authorize] Attribute Is Compliance Theater
" target="_blank" rel="noopener external noreferrer"><i class="fas fa-angles-right" aria-hidden="true"></i>&nbsp;
Your [Authorize] Attribute Is Compliance Theater</a></li><li role="listitem"><a href="https://daily-devops.net/posts/audit-logging-azure-app-insights/" title="Audit Logging That Survives Your Next Security Incident" target="_blank" rel="noopener external noreferrer"><i class="fas fa-angles-right" aria-hidden="true"></i>&nbsp;
Audit Logging That Survives Your Next Security Incident</a></li></ul></nav></section><section class="sidecar author" aria-labelledby="author-martin-st%C3%BChmer"><header><h2 id="author-martin-st%C3%BChmer"><a href="/authors/martin/" rel="author" title="Martin Stühmer" itemprop="url">Author <span itemprop="name">Martin Stühmer</span></a></h2></header><figure class="round"><picture><img src="https://www.gravatar.com/avatar/6da4a47ff9cc2b750452225fdb2582f7?d=identicon&amp;s=200" alt="Martin Stühmer" loading="lazy" decoding="async" title="Martin Stühmer"></picture></figure><section class="content" itemprop="description">CTO at Integrated Worlds building cloud-native solutions on Azure with modern .NET. Nearly 20 years in .NET from Framework 2.0 to today. Microsoft Certified Trainer, former CGI Director, open-source maintainer. I’ve made every mistake, bet on dead technologies, and learned more from failures than successes. Quality isn’t optional, buzzwords don’t ship features, and experience means knowing what to avoid.</section><a class="link" href="/authors/martin/" rel="author" aria-label="Author Martin Stühmer: Read more"></a></section><section class="sidecar social" aria-labelledby="social-heading"><header><h2 id="social-heading">Social media</h2></header><nav class="social-nav" role="navigation" aria-label="Social media links"><a class="icon bluesky" href="https://bsky.app/profile/samtrion.net" rel="noopener external" aria-label="Follow me on Bluesky" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-bluesky fa-stack-1x fa-inverse"></i>
</span></a><a class="icon github" href="https://github.com/samtrion" rel="noopener external" aria-label="Follow me on GitHub" target="_blank"><i class="fa-brands fa-fw fa-github fa-2x" aria-hidden="true"></i></a>
<a class="icon linkedin" href="https://www.linkedin.com/in/martin-stuehmer" rel="noopener external" aria-label="Follow me on LinkedIn" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
</span></a><a class="icon stackoverflow" href="https://stackoverflow.com/users/10574963" rel="noopener external" aria-label="Follow me on Stack Overflow" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
</span></a><a class="icon mail" href="mailto:martin@daily-devops.net" aria-label="Contact me by e-mail" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
</span></a><a class="icon feed" href="/authors/martin/feed.rss" aria-label="My RSS feed" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></nav></section><section class="sidecar share" aria-labelledby="share-heading"><header><h2 id="share-heading">Share this content</h2></header><a class="icon linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fdaily-devops.net%2fposts%2faccess-control-aspnet-core%2f&text=Your%20%5bAuthorize%5d%20Attribute%20Is%20Compliance%20Theater%0a%20%26mdash%3b%20Daily%20DevOps%20%26%20.NET" target="_blank" rel="noopener external" aria-label="Share on LinkedIn" title="Share on LinkedIn" target="_blank"><i class="fa-brands fa-fw fa-linkedin-in fa-2x"></i></a>
<a class="icon bluesky" href="https://bsky.app/intent/compose?text=Your%20%5bAuthorize%5d%20Attribute%20Is%20Compliance%20Theater%0a%20%26mdash%3b%20Daily%20DevOps%20%26%20.NET%20https%3a%2f%2fdaily-devops.net%2fposts%2faccess-control-aspnet-core%2f" target="_blank" rel="noopener external" aria-label="Share on Bluesky" title="Share on Bluesky" target="_blank"><i class="fa-brands fa-fw fa-bluesky fa-2x"></i></a></section><section class="sidecar tags" aria-labelledby="tags-heading"><header><h2 id="tags-heading">Tags</h2></header><ul class="tags" role="list"><li class="tag" role="listitem"><a href="/tags/dotnet/" hreflang="en" rel="tag" title=".NET" aria-label=".NET tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;.NET</a></li><li class="tag" role="listitem"><a href="/tags/authentication/" hreflang="en" rel="tag" title="Authentication" aria-label="Authentication tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Authentication</a></li><li class="tag" role="listitem"><a href="/tags/bestpractices/" hreflang="en" rel="tag" title="Best Practices" aria-label="Best Practices tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Best Practices</a></li><li class="tag" role="listitem"><a href="/tags/iso-standards/" hreflang="en" rel="tag" title="ISO Standards" aria-label="ISO Standards tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;ISO Standards</a></li><li class="tag" role="listitem"><a href="/tags/security/" hreflang="en" rel="tag" title="Security" aria-label="Security tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Security</a></li></ul></section><section class="sidecar related" aria-labelledby="related-heading"><header><h2 id="related-heading">Related content</h2></header><article class="post"><figure class="square"><picture><source srcset="/images/security-80x80.webp?v=35f82cde59317b992b40db6eee90c415" type="image/webp"><source srcset="/images/security-80x80.png?v=6b7b9203a90fa2d6df665509ee32b1e2" type="image/png"><img src="/images/security.png?v=530c4f0b5995d08df3450423fd03c5e0" alt="Why ISO Standards Actually Matter for .NET Developers" loading="lazy" decoding="async" title="Why ISO Standards Actually Matter for .NET Developers"></picture></figure><header><h2><a href="/posts/iso-standards-intro-dotnet-developers/" rel="bookmark">Why ISO Standards Actually Matter for .NET Developers</a></h2></header><section class="content" role="region">Cloud-native .NET development has transformed ISO/IEC 27001, 27017, and 27701 from abstract compliance requirements into concrete daily coding decisions. This guide shows .NET developers how security standards directly map to Azure Key Vault integration, Azure AD authentication, and proper logging—with real code examples demonstrating compliant vs. non-compliant implementations.</section></article><article class="post"><figure class="square"><picture><source srcset="/images/code-sharpens-thinking-80x80.webp?v=2448ccbe45295198cef354e0bb551a5a" type="image/webp"><source srcset="/images/code-sharpens-thinking-80x80.png?v=a151d2d240b300c6db90670c63c640fa" type="image/png"><img src="/images/code-sharpens-thinking.png?v=9022f5abe33b87869328198596f2ad25" alt="Real Professional Software Engineering in the AI Era
" loading="lazy" decoding="async" title="Real Professional Software Engineering in the AI Era
"></picture></figure><header><h2><a href="/posts/real-professional-software-engineering-ai-era/" rel="bookmark">Real Professional Software Engineering in the AI Era</a></h2></header><section class="content" role="region">Throughout this series, we&rsquo;ve established that AI-generated code without understanding creates productivity illusions that collapse in production (Part 1), and that <strong>the feedback loop</strong> between code and reality—compilation, testing, profiling, production—sharpens thinking in ways AI can&rsquo;t replicate (Part 2). Now we confront the practical question: What defines professional software engineering when code generation becomes trivial? This final part examines the irreplaceable skillset: understanding execution characteristics (recognizing allocation patterns that cause GC pressure before deployment), asking questions AI can&rsquo;t formulate (What&rsquo;s the failure mode when this service is unavailable?), recognizing when plausible AI solutions diverge from correct ones, debugging production failures AI has no execution model to reason about, and evaluating maintainability for code that becomes tomorrow&rsquo;s burden. We explore why prompt engineering optimizes for speed while architecture optimizes for survival, why &ldquo;AI productivity&rdquo; often means faster technical debt accumulation, and why the economic reality favors organizations that measure system reliability over lines of code generated. The feedback loop can&rsquo;t be automated because closing it requires learning from production failures and applying that knowledge to prevent future ones—the irreplaceable discipline that defines real professionals in 2026 and beyond.</section></article><article class="post"><figure class="square"><picture><source srcset="/images/code-sharpens-thinking-80x80.webp?v=2448ccbe45295198cef354e0bb551a5a" type="image/webp"><source srcset="/images/code-sharpens-thinking-80x80.png?v=a151d2d240b300c6db90670c63c640fa" type="image/png"><img src="/images/code-sharpens-thinking.png?v=9022f5abe33b87869328198596f2ad25" alt="The Feedback Loop That AI Can't Replace
" loading="lazy" decoding="async" title="The Feedback Loop That AI Can't Replace
"></picture></figure><header><h2><a href="/posts/feedback-loop-ai-cant-replace/" rel="bookmark">The Feedback Loop That AI Can't Replace</a></h2></header><section class="content" role="region">In the first part of this series, we established that AI-generated code without understanding creates an illusion of productivity that collapses under production load. The differentiator isn&rsquo;t typing speed—it&rsquo;s <strong>the feedback loop</strong> where code meets reality and exposes incomplete thinking. But what exactly is this feedback loop, and why can&rsquo;t AI replicate it? Modern compilers validate logical consistency, catching gaps pure thought leaves unresolved. Profilers expose the 75x performance difference between &ldquo;seems reasonable&rdquo; and &ldquo;actually performs.&rdquo; Production environments reveal every assumption abstract thinking deferred—scale, concurrency, failure modes. This article explores the mechanisms that transform vague reasoning into concrete understanding: compilation validates logic instantly, testing catches behavioral mismatches, profiling measures what abstract analysis guesses, and production exposes the cost of every deferred decision. Real professionals don&rsquo;t just write code—they master the iterative discipline of watching it fail, understanding why, and refining their thinking. AI participates in parts of this loop, but it can&rsquo;t close it. That&rsquo;s where professionals remain irreplaceable.</section></article></section></aside><nav class="pager" aria-label="Article navigation" role="navigation"><a class="next" href="/posts/cluster-upgrades-zero-downtime-aks/" rel="next" aria-label="Next: AKS Cluster Upgrades: Zero-Downtime Operations That Actually Work
"><span class="sub"><i class="fas fa-backward" aria-hidden="true"></i>&emsp;<span class="sr-only">Next</span></span><p class="title">AKS Cluster Upgrades: Zero-Downtime Operations That Actually Work</p></a><a class="prev" href="/posts/iso-standards-intro-dotnet-developers/" rel="prev" aria-label="Previous: Why ISO Standards Actually Matter for .NET Developers"><span class="sub"><span class="sr-only">Previous</span>&emsp;<i class="fas fa-forward" aria-hidden="true"></i></span><p class="title">Why ISO Standards Actually Matter for .NET Developers</p></a></nav></main><footer class="footer"><div class="divider"></div><nav><ul class="navigation"><li><a href="/tags/">Tags</a></li><li><a href="/legal-notice/">Legal notice</a></li></ul></nav><div class="copyright">&copy; 2023 - 2026 Daily DevOps & .NET</div></footer><script defer src="/js/below.min.a6ce9164454b6077f17ae856f280442d9f3a1e21f06189f71c21f75144b22a0c8cf32bafd61d440e9d90ca02bf738b6a8ef19f5ec20285d8ca574f98c91ebaf2.js" integrity="sha512-ps6RZEVLYHfxeuhW8oBELZ86HiHwYYn3HCH3UUSyKgyM8yuv1h1EDp2QygK/c4tqjvGfXsIChdjKV0+YyR668g==" crossorigin="anonymous"></script><img class="vgwort" src="https://vg05.met.vgwort.de/na/8e3f36d6499145bc86a9c38df80e1502" width="1" height="1" alt="VG Wort" title="VG Wort"></body></html>