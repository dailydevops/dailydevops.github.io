<!doctype html><html class="no-js" lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#15a"><title>Code Metrics and Configuration: Beyond the Numbers Game — Daily DevOps & .NET</title><meta name="description" content="Code metrics have become a standard feature in modern development environments, yet their implementation and interpretation often leave much to be desired. …"><meta name="twitter:description" property="og:description" content="Code metrics have become a standard feature in modern development environments, yet their implementation and interpretation often leave much to be desired. …"><meta name="author" content="Martin Stühmer"><link rel="icon" href="/logo.svg?v=b9e294dc5c6fa04439c8c803d8e981a9" sizes="any" type="image/svg+xml"><meta name="twitter:title" property="og:title" content="Code Metrics and Configuration: Beyond the Numbers Game — Daily DevOps & .NET"><meta property="og:updated_time" content="2026-01-05T12:05:23+01:00"><meta property="article:modified_time" content="2026-01-05T12:05:23+01:00"><meta property="article:published_time" content="2025-11-18T17:00:00+01:00"><meta property="og:type" content="article"><meta property="og:site_name" content="Daily DevOps & .NET"><meta property="og:url" content="https://daily-devops.net/posts/code-metrics-configuration/"><meta property="og:locale" content="en"><meta name="twitter:card" content="summary_large_image"><meta property="og:image" name="twitter:image" content="https://daily-devops.net/images/csharp-1200x630.webp?v=c3708bde3d96269eb3e395537eb7c5d4"><meta property="og:image:secure_url" content="https://daily-devops.net/images/csharp-1200x630.webp?v=c3708bde3d96269eb3e395537eb7c5d4"><meta property="og:image:alt" name="twitter:image:alt" content="Code Metrics and Configuration: Beyond the Numbers Game"><meta property="og:image:type" content="image/webp"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:image" name="twitter:image" content="https://daily-devops.net/images/csharp-1200x630.png?v=547760eed18b566792e92844110e5c96"><meta property="og:image:secure_url" content="https://daily-devops.net/images/csharp-1200x630.png?v=547760eed18b566792e92844110e5c96"><meta property="og:image:alt" name="twitter:image:alt" content="Code Metrics and Configuration: Beyond the Numbers Game"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><link rel="dns-prefetch" href="https://www.clarity.ms"><link rel="preconnect" href="https://www.clarity.ms" crossorigin><link rel="stylesheet" href="/css/style.min.0b2ef4378cd908eb695017aaa74603d244ff2b38c8068b4b51d76cad830c8ee5e3a40b67ab5b860a542c8bae73d8ba90cfbe9249b59c733a50de74cc32af818a.css" integrity="sha512-Cy70N4zZCOtpUBeqp0YD0kT/KzjIBotLUddsrYMMjuXjpAtnq1uGClQsi65z2LqQz76SSbWcczpQ3nTMMq+Big==" crossorigin="anonymous"><link rel="alternate" href='https://daily-devops.net/posts/code-metrics-configuration/' hreflang="x-default" title="Code Metrics and Configuration: Beyond the Numbers Game &mdash; Daily DevOps & .NET"><link rel="alternate" href="https://daily-devops.net/en/posts/code-metrics-configuration" hreflang="en" title="Code Metrics and Configuration: Beyond the Numbers Game &mdash; Daily DevOps & .NET"><link rel="canonical" href="https://daily-devops.net/posts/code-metrics-configuration/" hreflang="en" title="Code Metrics and Configuration: Beyond the Numbers Game &mdash; Daily DevOps & .NET"><link rel="home" href="https://daily-devops.net/" hreflang="en" title="Daily DevOps & .NET"><link rel="next" href="https://daily-devops.net/posts/dotnet-10-testing/" hreflang="en" title=".NET 10 Testing: Microsoft Finally Fixed the Test Runner (Mostly)
"><link rel="prev" href="https://daily-devops.net/posts/dotnet-10-released/" hreflang="en" title=".NET 10: Boring by Design, Reliable by Default
"><link rel="author" href="https://daily-devops.net/authors/martin/" hreflang="en" title="Martin Stühmer &mdash; Daily DevOps & .NET"><meta name="giscus:backlink" content="https://daily-devops.net/posts/code-metrics-configuration/"><script defer src="/js/above.min.cb42b2c9a453e49e278326637d72d2f01e7f32e3f91e9cdde8fb587793d05514efd2f5cc5021c9658ca0f73876dbdcd1f7cb4a37c0bebc9df01110926b6d7cba.js" integrity="sha512-y0KyyaRT5J4ngyZjfXLS8B5/MuP5Hpzd6PtYd5PQVRTv0vXMUCHJZYyg9zh229zR98tKN8C+vJ3wERCSa218ug==" crossorigin="anonymous"></script><script type="text/javascript">(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","o0pr4n9gg3")</script><script src="https://analytics.ahrefs.com/analytics.js" data-key="C5Iv+2Rb9el+FLJqVw2QGA" async></script></head><body class="container"><header class="header"><a class="logo" href="/" title="Daily DevOps & .NET" rel="home"><figure class="page-logo"><picture><img src="/logo.svg?v=b9e294dc5c6fa04439c8c803d8e981a9" alt="Daily DevOps & .NET" title="Daily DevOps & .NET"></picture></figure><span class="title">Daily DevOps & .NET</span></a><nav class="menu" aria-label="Main navigation"><button class="burger" type="button" aria-haspopup="menu" aria-expanded="false" aria-label="Toggle menu">
<i class="fas fa-burger" aria-hidden="true"></i></button><ul class="navigation"><li class="active"><a href="/posts/">Posts</a></li><li><a href="/authors/">About us</a></li></ul></nav><div class="divider"></div></header><main class="body"><figure class="hero"><picture><source srcset="/images/csharp-544x136.webp?v=23860b15664f4c000f725ba004cb13ca" type="image/webp" media="(max-width: 575.98px)"><source srcset="/images/csharp-544x136.png?v=038bf53dc3518576014653d5dda06a5e" type="image/png" media="(max-width: 575.98px)"><source srcset="/images/csharp-672x168.webp?v=69b634eb3a2863ad3b176045aad0534b" type="image/webp" media="(max-width: 767.98px)"><source srcset="/images/csharp-672x168.png?v=a18b6001d35dd946ef8b9a47af6e86ed" type="image/png" media="(max-width: 767.98px)"><source srcset="/images/csharp-896x224.webp?v=3108337a360baffcddebd914603256f6" type="image/webp" media="(max-width: 991.98px)"><source srcset="/images/csharp-896x224.png?v=7eb31dd18bd53b0bf209074e79eb8f2f" type="image/png" media="(max-width: 991.98px)"><source srcset="/images/csharp-1104x276.webp?v=c98f61d608fe4fb1b59c98199ab4d0c0" type="image/webp" media="(max-width: 1199.98px)"><source srcset="/images/csharp-1104x276.png?v=b760a9ea4f05629aa6cd15bbdcdf9d16" type="image/png" media="(max-width: 1199.98px)"><source srcset="/images/csharp-1444x361.webp?v=9f517b7f724acd0d8cdc1731b27a7886" type="image/webp"><source srcset="/images/csharp-1444x361.png?v=e71fca8a8b32ef8c283bb0b4c8af95fb" type="image/png"><img src="/images/csharp.png?v=21ff9dcf5d1da7bfa80141c972c117da" alt="Code Metrics and Configuration: Beyond the Numbers Game" loading="lazy" decoding="async" title="Code Metrics and Configuration: Beyond the Numbers Game"></picture></figure><article class="post"><header><h1>Code Metrics and Configuration: Beyond the Numbers Game</h1></header><section class="content" role="region"><p>Code metrics have become a standard feature in modern development environments, yet their implementation and interpretation often leave much to be desired. While Visual Studio and .NET provide comprehensive code metrics analysis, the way these metrics are configured, presented, and (more critically) acted upon reveals a fundamental disconnect between measurement and meaningful improvement.</p><p>What code metrics actually measure, how to configure them properly, and (more importantly) why blindly following thresholds without understanding context is, frankly, a recipe for misguided refactoring efforts that waste your team&rsquo;s time and actively damage your codebase.</p><h2 id="understanding-code-metrics-what-are-we-actually-measuring"><a href="/posts/code-metrics-configuration/#understanding-code-metrics-what-are-we-actually-measuring" title="Understanding Code Metrics: What Are We Actually Measuring?">Understanding Code Metrics: What Are We Actually Measuring?</a></h2><p>Visual Studio provides several key code metrics, each designed to quantify different aspects of code complexity and maintainability. Understanding what these numbers actually represent is essential before you start making decisions based on them.</p><h3 id="maintainability-index-mi"><a href="/posts/code-metrics-configuration/#maintainability-index-mi" title="Maintainability Index (MI)">Maintainability Index (MI)</a></h3><p>The <strong>Maintainability Index</strong> is a composite metric ranging from 0 to 100, where higher values supposedly indicate better maintainability. Microsoft&rsquo;s thresholds suggest:</p><ul><li><strong>Green (20 to 100)</strong>: Good maintainability</li><li><strong>Yellow (10 to 19)</strong>: Moderate maintainability</li><li><strong>Red (0 to 9)</strong>: Poor maintainability</li></ul><p>The formula considers cyclomatic complexity, lines of code, and computational complexity. However, this single number masks important nuances. A method with a high maintainability index might still be poorly designed if it violates single responsibility principles or lacks proper abstraction. Conversely, a legitimately complex algorithm might score poorly despite being optimally implemented.</p><h3 id="cyclomatic-complexity"><a href="/posts/code-metrics-configuration/#cyclomatic-complexity" title="Cyclomatic Complexity">Cyclomatic Complexity</a></h3><p>This metric counts the number of linearly independent paths through a method&rsquo;s code. Each <code>if</code>, <code>while</code>, <code>for</code>, <code>case</code>, and logical operator (<code>&&</code>, <code>||</code>) increases the count. The conventional wisdom suggests:</p><ul><li><strong>1 to 10</strong>: Simple, low risk</li><li><strong>11 to 20</strong>: Moderate complexity</li><li><strong>21 to 50</strong>: High complexity</li><li><strong>50+</strong>: Untestable, critical risk</li></ul><p>While cyclomatic complexity provides valuable insights into testability, it can be seriously misleading. A well-structured method with clear guard clauses might score higher than a convoluted method with fewer branches but objectively worse logical flow. The metric measures branches, not clarity.</p><h3 id="lines-of-code-loc"><a href="/posts/code-metrics-configuration/#lines-of-code-loc" title="Lines of Code (LOC)">Lines of Code (LOC)</a></h3><p>This counts executable lines, excluding comments and blank lines. While straightforward, LOC is perhaps the most misunderstood metric. <strong>A high line count doesn&rsquo;t automatically indicate poor quality</strong>. It might represent thorough error handling, comprehensive validation, or simply necessary business logic. Splitting a 200-line method into ten 20-line methods doesn&rsquo;t magically improve anything if those ten methods are tightly coupled and need to be understood together anyway.</p><h3 id="depth-of-inheritance"><a href="/posts/code-metrics-configuration/#depth-of-inheritance" title="Depth of Inheritance">Depth of Inheritance</a></h3><p>This measures how many classes are in the inheritance hierarchy above a type. Deep inheritance trees can indicate over-engineering, but shallow hierarchies aren&rsquo;t automatically better. The appropriate depth depends entirely on the domain model and design patterns being employed. Blindly flattening inheritance hierarchies to satisfy a metric threshold often results in awkward composition patterns or duplicated logic.</p><h3 id="class-coupling"><a href="/posts/code-metrics-configuration/#class-coupling" title="Class Coupling">Class Coupling</a></h3><p>This counts the number of unique types a class references. High coupling suggests tight dependencies and reduced modularity, but some coupling is inevitable and even desirable when working with framework types or established patterns. A web controller that references request models, response models, service interfaces, and result types will naturally have higher coupling, and that&rsquo;s perfectly fine.</p><h2 id="the-critical-flaw-arbitrary-thresholds-without-context"><a href="/posts/code-metrics-configuration/#the-critical-flaw-arbitrary-thresholds-without-context" title="The Critical Flaw: Arbitrary Thresholds Without Context">The Critical Flaw: Arbitrary Thresholds Without Context</a></h2><p>This is where the industry consistently gets it wrong. <strong>Applying universal thresholds to code metrics fundamentally ignores the reality that different code serves different purposes</strong>. The notion that a cyclomatic complexity of 10 is universally &ldquo;good&rdquo; while 11 is suddenly &ldquo;problematic&rdquo; is, quite honestly, nonsense. It&rsquo;s the software equivalent of declaring that all methods must be exactly 15 lines long because someone once read that in a blog post.</p><p>Consider a service orchestrator that validates input, checks permissions, coordinates multiple services, handles errors, and logs operations. Such a method might legitimately have a cyclomatic complexity of 15 to 20 while being perfectly maintainable if it&rsquo;s well-structured with clear sections and appropriate abstractions. In 2023, I watched a team spend two full weeks refactoring a beautifully clear order processing coordinator, splitting it into 18 micro-methods scattered across four files, all because SonarQube flagged it red. The result? Nobody on the team could follow the execution flow anymore without constantly jumping between files. The cyclomatic complexity went down. The actual maintainability went down with it.</p><p>Conversely, a method with a cyclomatic complexity of 5 could be an absolute maintenance nightmare if it contains obscure bit manipulation, poorly named variables, or nested ternary operators that mask its true intent. I&rsquo;ve seen plenty of &ldquo;low complexity&rdquo; code that nobody dares touch because figuring out what it actually does requires a whiteboard and strong coffee.</p><p><strong>The metric is a signal, not a verdict.</strong> Treating threshold violations as automated refactoring triggers leads to cargo cult programming. You end up splitting methods not because it actually improves design, but because a tool says a number is too high. If you&rsquo;re refactoring solely to satisfy a metric, you&rsquo;re doing it wrong. Full stop.</p><h2 id="configuring-code-metrics-analysis-in-net"><a href="/posts/code-metrics-configuration/#configuring-code-metrics-analysis-in-net" title="Configuring Code Metrics Analysis in .NET">Configuring Code Metrics Analysis in .NET</a></h2><p>Despite these significant limitations, code metrics remain useful when properly configured and (this is crucial) interpreted with actual human judgment. The key is setting them up as discussion triggers, not as automated quality gates. Here&rsquo;s how to configure them effectively without falling into the trap of metric-driven madness.</p><h3 id="enabling-code-metrics-in-visual-studio"><a href="/posts/code-metrics-configuration/#enabling-code-metrics-in-visual-studio" title="Enabling Code Metrics in Visual Studio">Enabling Code Metrics in Visual Studio</a></h3><p>Code metrics can be calculated for entire solutions, projects, or individual code files. Visual Studio makes this relatively straightforward, even if the UI hasn&rsquo;t been meaningfully updated since roughly 2010.</p><ol><li><p><strong>Solution or Project Level</strong>: Right-click on the solution or project in Solution Explorer, then select <strong>Analyze and Code Cleanup</strong> followed by <strong>Calculate Code Metrics</strong>. This gives you a basic overview, though frankly the results window is a masterclass in wasted screen real estate.</p></li><li><p><strong>EditorConfig Configuration</strong>: For more meaningful control, use <code>.editorconfig</code> to configure specific metric thresholds:</p></li></ol><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># Code metrics configuration</span>
</span></span><span class="line"><span class="cl"><span class="k">[*.cs]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Cyclomatic complexity warning threshold</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_diagnostic.CA1502.severity</span> <span class="o">=</span> <span class="s">warning</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_code_quality.CA1502.cyclomatic_complexity</span> <span class="o">=</span> <span class="s">25</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Maintainability index warning threshold</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_diagnostic.CA1501.severity</span> <span class="o">=</span> <span class="s">warning</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_code_quality.CA1501.maintainability_index</span> <span class="o">=</span> <span class="s">15</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Maximum lines of code per method</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_diagnostic.CA1505.severity</span> <span class="o">=</span> <span class="s">suggestion</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_code_quality.CA1505.lines_of_code</span> <span class="o">=</span> <span class="s">100</span>
</span></span></code></pre></div><h3 id="the-ca1509-rule-understanding-invalid-configuration"><a href="/posts/code-metrics-configuration/#the-ca1509-rule-understanding-invalid-configuration" title="The CA1509 Rule: Understanding Invalid Configuration">The CA1509 Rule: Understanding Invalid Configuration</a></h3><p>Microsoft&rsquo;s documentation on <strong>CA1509</strong> addresses a specific but genuinely important issue: <strong>invalid analyzer configuration values</strong>. This rule fires when you&rsquo;ve misconfigured code analysis settings, typically by:</p><ul><li>Providing non-numeric values where numbers are expected</li><li>Using values outside acceptable ranges</li><li>Specifying invalid enumeration values</li></ul><p>Example of <strong>invalid configuration</strong> (that will silently fail in older tooling):</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># WRONG: Non-numeric value</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_code_quality.CA1502.cyclomatic_complexity</span> <span class="o">=</span> <span class="s">high</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># WRONG: Value out of range</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_code_quality.CA1502.cyclomatic_complexity</span> <span class="o">=</span> <span class="s">-5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># WRONG: Invalid severity level</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_diagnostic.CA1502.severity</span> <span class="o">=</span> <span class="s">critical</span>
</span></span></code></pre></div><p>Correct configuration:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># CORRECT: Numeric value in valid range</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_code_quality.CA1502.cyclomatic_complexity</span> <span class="o">=</span> <span class="s">25</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># CORRECT: Valid severity level</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_diagnostic.CA1502.severity</span> <span class="o">=</span> <span class="s">warning</span>
</span></span></code></pre></div><p>The CA1509 rule exists precisely because <strong>silent failures in configuration can lead to dangerously false confidence</strong>. You might genuinely believe you&rsquo;ve enforced strict complexity limits when, in reality, your misconfiguration has effectively disabled the checks entirely. In a previous role, our team operated for three months under the assumption that our code quality gates were being enforced. They weren&rsquo;t. A single typo (<code>warnin</code> instead of <code>warning</code>) in the <code>.editorconfig</code> had neutered the entire setup. Nobody noticed until a code review caught something that should have been flagged automatically.</p><p>This is particularly insidious in team environments where configuration files are committed to source control. A typo or misunderstanding propagates across the entire team, systematically undermining code quality initiatives without anyone noticing until much later. Usually someone eventually asks &ldquo;Why isn&rsquo;t this rule triggering?&rdquo; and then you discover that your quality process has been theatre for weeks or months.</p><h3 id="project-level-configuration"><a href="/posts/code-metrics-configuration/#project-level-configuration" title="Project-Level Configuration">Project-Level Configuration</a></h3><p>For comprehensive control, configure code metrics in your <code>.csproj</code> or <code>Directory.Build.props</code> file:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;PropertyGroup&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- Enable all code analysis rules --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;EnableNETAnalyzers&gt;</span>true<span class="nt">&lt;/EnableNETAnalyzers&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;AnalysisLevel&gt;</span>latest<span class="nt">&lt;/AnalysisLevel&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;EnforceCodeStyleInBuild&gt;</span>true<span class="nt">&lt;/EnforceCodeStyleInBuild&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- Treat specific metrics violations as errors in CI/CD --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;WarningsAsErrors&gt;</span>CA1502;CA1505<span class="nt">&lt;/WarningsAsErrors&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/PropertyGroup&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">&lt;ItemGroup&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- Add code analysis package for additional metrics --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">&#34;Microsoft.CodeAnalysis.NetAnalyzers&#34;</span> <span class="na">Version=</span><span class="s">&#34;8.0.0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/ItemGroup&gt;</span>
</span></span></code></pre></div><p>This configuration ensures that:</p><ul><li>Code analysis runs during every build (not just when you remember to click &ldquo;Calculate Metrics&rdquo;)</li><li>Specific violations break the build in CI/CD environments (preventing &ldquo;I&rsquo;ll fix it later&rdquo; syndrome)</li><li>Teams maintain consistent standards across all machines (no more &ldquo;it works on my machine&rdquo; with different analyzer settings)</li></ul><h2 id="real-world-examples-when-metrics-mislead"><a href="/posts/code-metrics-configuration/#real-world-examples-when-metrics-mislead" title="Real-World Examples: When Metrics Mislead">Real-World Examples: When Metrics Mislead</a></h2><p>Here are some actual scenarios from production codebases where metrics painted an incomplete (or outright misleading) picture. These are real examples I&rsquo;ve encountered, though I&rsquo;ve simplified them slightly for clarity.</p><h3 id="example-1-the-high-complexity-coordinator"><a href="/posts/code-metrics-configuration/#example-1-the-high-complexity-coordinator" title="Example 1: The High-Complexity Coordinator">Example 1: The High-Complexity Coordinator</a></h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">OrderResult</span><span class="p">&gt;</span> <span class="n">ProcessOrderAsync</span><span class="p">(</span><span class="n">OrderRequest</span> <span class="n">request</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Cyclomatic Complexity: 18</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">request</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">throw</span> <span class="k">new</span> <span class="n">ArgumentNullException</span><span class="p">(</span><span class="n">nameof</span><span class="p">(</span><span class="n">request</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(!</span><span class="k">await</span> <span class="n">_authService</span><span class="p">.</span><span class="n">ValidateUserAsync</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">UserId</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">OrderResult</span><span class="p">.</span><span class="n">Unauthorized</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Count</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">OrderResult</span><span class="p">.</span><span class="n">Invalid</span><span class="p">(</span><span class="s">&#34;No items in order&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">inventory</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_inventoryService</span><span class="p">.</span><span class="n">CheckAvailabilityAsync</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">Items</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(!</span><span class="n">inventory</span><span class="p">.</span><span class="n">AllAvailable</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">OrderResult</span><span class="p">.</span><span class="n">OutOfStock</span><span class="p">(</span><span class="n">inventory</span><span class="p">.</span><span class="n">UnavailableItems</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">payment</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_paymentService</span><span class="p">.</span><span class="n">ProcessPaymentAsync</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">Payment</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(!</span><span class="n">payment</span><span class="p">.</span><span class="n">Success</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">OrderResult</span><span class="p">.</span><span class="n">PaymentFailed</span><span class="p">(</span><span class="n">payment</span><span class="p">.</span><span class="n">Reason</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">RequiresShipping</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">shipping</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_shippingService</span><span class="p">.</span><span class="n">CalculateShippingAsync</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">Address</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">shipping</span><span class="p">.</span><span class="n">CanDeliver</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">OrderResult</span><span class="p">.</span><span class="n">ShippingUnavailable</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">order</span> <span class="p">=</span> <span class="k">await</span> <span class="n">_orderRepository</span><span class="p">.</span><span class="n">CreateOrderAsync</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">payment</span><span class="p">,</span> <span class="n">inventory</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="n">_notificationService</span><span class="p">.</span><span class="n">SendOrderConfirmationAsync</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">OrderResult</span><span class="p">.</span><span class="n">Success</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>Metric</strong>: Cyclomatic complexity of 18</p><p><strong>Tool Recommendation</strong>: Split this method immediately into smaller methods to reduce complexity.</p><p><strong>Reality</strong>: This is a well-structured orchestration method with clear, sequential steps. Each condition represents a legitimate business rule. The flow is obvious: validate, check inventory, process payment, arrange shipping, create order. Splitting this would scatter related logic across multiple methods without improving understandability. In fact, it would make it worse because you&rsquo;d need to trace through multiple method calls to understand what should be a single logical operation.</p><h3 id="example-2-the-deceptively-simple-method"><a href="/posts/code-metrics-configuration/#example-2-the-deceptively-simple-method" title="Example 2: The Deceptively Simple Method">Example 2: The Deceptively Simple Method</a></h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">CalculateDiscount</span><span class="p">(</span><span class="n">Customer</span> <span class="n">customer</span><span class="p">,</span> <span class="n">Order</span> <span class="n">order</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Cyclomatic Complexity: 3</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="n">customer</span><span class="p">.</span><span class="n">Tier</span> <span class="p">==</span> <span class="s">&#34;Gold&#34;</span> <span class="p">&amp;&amp;</span> <span class="n">order</span><span class="p">.</span><span class="n">Total</span> <span class="p">&gt;</span> <span class="m">1000</span><span class="p">)</span> <span class="p">?</span> <span class="m">20</span> <span class="p">:</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="n">customer</span><span class="p">.</span><span class="n">Tier</span> <span class="p">==</span> <span class="s">&#34;Silver&#34;</span> <span class="p">&amp;&amp;</span> <span class="n">order</span><span class="p">.</span><span class="n">Total</span> <span class="p">&gt;</span> <span class="m">500</span><span class="p">)</span> <span class="p">?</span> <span class="m">10</span> <span class="p">:</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>Metric</strong>: Cyclomatic complexity of 3</p><p><strong>Tool Recommendation</strong>: Acceptable, no action needed</p><p><strong>Reality</strong>: This nested ternary operator is significantly harder to understand than its complexity suggests. The metric doesn&rsquo;t capture cognitive load. This should be refactored into explicit if/else blocks or (better) a strategy pattern, despite having &ldquo;acceptable&rdquo; metrics. Low complexity doesn&rsquo;t automatically mean readable code.</p><h3 id="example-3-the-configuration-validation"><a href="/posts/code-metrics-configuration/#example-3-the-configuration-validation" title="Example 3: The Configuration Validation">Example 3: The Configuration Validation</a></h3><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">bool</span> <span class="n">ValidateConfiguration</span><span class="p">(</span><span class="n">AppConfiguration</span> <span class="n">config</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Cyclomatic Complexity: 25</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">DatabaseConnection</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">ApiKey</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">Timeout</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">MaxRetries</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">config</span><span class="p">.</span><span class="n">MaxRetries</span> <span class="p">&gt;</span> <span class="m">10</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">ServiceUrl</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(!</span><span class="n">Uri</span><span class="p">.</span><span class="n">TryCreate</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">ServiceUrl</span><span class="p">,</span> <span class="n">UriKind</span><span class="p">.</span><span class="n">Absolute</span><span class="p">,</span> <span class="k">out</span> <span class="n">_</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">CacheSize</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">||</span> <span class="n">config</span><span class="p">.</span><span class="n">CacheSize</span> <span class="p">&gt;</span> <span class="m">10000</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">LogPath</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">Workers</span> <span class="p">&lt;</span> <span class="m">1</span> <span class="p">||</span> <span class="n">config</span><span class="p">.</span><span class="n">Workers</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">EncryptionKey</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">EncryptionKey</span><span class="p">.</span><span class="n">Length</span> <span class="p">&lt;</span> <span class="m">16</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ... and so on</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>Metric</strong>: Cyclomatic complexity of 25+</p><p><strong>Tool Recommendation</strong>: CRITICAL! Refactor immediately! Code smell detected!</p><p><strong>Reality</strong>: This is a guard clause pattern performing straightforward validation. Each check is independent and clear. While this could potentially be refactored to use a validation framework like FluentValidation, the current implementation is perfectly maintainable. Anyone can read this method and immediately understand what&rsquo;s being validated. <strong>The high complexity reflects the number of configuration options, not poor design.</strong> Refactoring this just to lower a number would likely make it more complex to understand, not less.</p><h2 id="best-practices-for-code-metrics-configuration"><a href="/posts/code-metrics-configuration/#best-practices-for-code-metrics-configuration" title="Best Practices for Code Metrics Configuration">Best Practices for Code Metrics Configuration</a></h2><p>Based on years of working with code metrics across various projects (and watching teams both succeed and fail spectacularly at using them), here are practical recommendations:</p><h3 id="1-set-contextual-thresholds"><a href="/posts/code-metrics-configuration/#1-set-contextual-thresholds" title="1. Set Contextual Thresholds">1. Set Contextual Thresholds</a></h3><p>Don&rsquo;t use Microsoft&rsquo;s default thresholds blindly. They were probably set by someone who never maintained a real-world enterprise application. Analyze your actual codebase and set realistic limits based on what you&rsquo;re building:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[*.cs]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># More lenient for coordinators and facades</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_code_quality.CA1502.cyclomatic_complexity</span> <span class="o">=</span> <span class="s">25</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Stricter for business logic</span>
</span></span><span class="line"><span class="cl"><span class="k">[**/Domain/**.cs]</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_code_quality.CA1502.cyclomatic_complexity</span> <span class="o">=</span> <span class="s">15</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Most lenient for generated code</span>
</span></span><span class="line"><span class="cl"><span class="k">[**/Generated/**.cs]</span>
</span></span><span class="line"><span class="cl"><span class="na">dotnet_diagnostic.CA1502.severity</span> <span class="o">=</span> <span class="s">none</span>
</span></span></code></pre></div><h3 id="2-combine-metrics-with-code-reviews"><a href="/posts/code-metrics-configuration/#2-combine-metrics-with-code-reviews" title="2. Combine Metrics with Code Reviews">2. Combine Metrics with Code Reviews</a></h3><p>Metrics are <strong>indicators for discussion</strong>, not automatic refactoring triggers. This cannot be emphasized enough. When a metric threshold is exceeded:</p><ol><li>Review the code with the team (not just accept what the tool says)</li><li>Discuss whether the complexity is essential or accidental</li><li>Consider readability and maintainability alongside the numbers</li><li>Refactor only when there&rsquo;s genuine consensus that it improves the code</li></ol><p>If someone suggests refactoring purely because &ldquo;the metric is red,&rdquo; push back. Ask them to explain what specifically is hard to understand or maintain. If they can&rsquo;t articulate a concrete problem beyond &ldquo;the number is high,&rdquo; the refactoring probably isn&rsquo;t worth doing.</p><h3 id="3-track-trends-not-absolutes"><a href="/posts/code-metrics-configuration/#3-track-trends-not-absolutes" title="3. Track Trends, Not Absolutes">3. Track Trends, Not Absolutes</a></h3><p>Focus on whether metrics are improving or degrading over time, not on hitting specific numbers. A codebase where average complexity is gradually decreasing is healthier than one where you&rsquo;ve arbitrarily set thresholds that everyone routinely suppresses:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="c">&lt;!-- Ratchet approach: prevent regression --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;PropertyGroup&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;MaxAllowedCyclomaticComplexity&gt;</span>25<span class="nt">&lt;/MaxAllowedCyclomaticComplexity&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="c">&lt;!-- Gradually decrease this threshold over time --&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/PropertyGroup&gt;</span>
</span></span></code></pre></div><h3 id="4-validate-your-configuration"><a href="/posts/code-metrics-configuration/#4-validate-your-configuration" title="4. Validate Your Configuration">4. Validate Your Configuration</a></h3><p>Ensure your <code>.editorconfig</code> and project settings are actually valid and doing what you think they&rsquo;re doing:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Build with warnings as errors to catch configuration issues</span>
</span></span><span class="line"><span class="cl">dotnet build /p:TreatWarningsAsErrors<span class="o">=</span><span class="nb">true</span>
</span></span></code></pre></div><p>This will cause CA1509 violations (invalid configuration) to break the build, preventing those silent failures that undermine your entire quality process.</p><h3 id="5-document-exceptions"><a href="/posts/code-metrics-configuration/#5-document-exceptions" title="5. Document Exceptions">5. Document Exceptions</a></h3><p>When you intentionally exceed thresholds (and you will), document why. Future developers (including yourself in six months) will thank you:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Cyclomatic complexity: 22</span>
</span></span><span class="line"><span class="cl"><span class="c1">// JUSTIFICATION: This coordinator method orchestrates the entire checkout process.</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Splitting it would scatter cohesive logic and reduce maintainability.</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Reviewed: 2024-12-15, approved by architecture team.</span>
</span></span><span class="line"><span class="cl"><span class="na">[SuppressMessage(&#34;Microsoft.Maintainability&#34;, &#34;CA1502:AvoidExcessiveComplexity&#34;,
</span></span></span><span class="line"><span class="cl"><span class="na">    Justification = &#34;Orchestration method with clear sequential steps&#34;)]</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">CheckoutResult</span><span class="p">&gt;</span> <span class="n">ProcessCheckoutAsync</span><span class="p">(</span><span class="n">CheckoutRequest</span> <span class="n">request</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Implementation</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="the-bigger-picture-metrics-as-tools-not-goals"><a href="/posts/code-metrics-configuration/#the-bigger-picture-metrics-as-tools-not-goals" title="The Bigger Picture: Metrics as Tools, Not Goals">The Bigger Picture: Metrics as Tools, Not Goals</a></h2><p>The fundamental issue with code metrics isn&rsquo;t the measurements themselves. It&rsquo;s how we respond to them. <strong>Optimizing for metrics rather than maintainability is a textbook case of Goodhart&rsquo;s Law</strong>: &ldquo;When a measure becomes a target, it ceases to be a good measure.&rdquo;</p><p>I&rsquo;ve watched teams obsess over reducing cyclomatic complexity, creating elaborate abstractions and indirection that make the code objectively harder to understand, all to satisfy a tool&rsquo;s threshold. I&rsquo;ve seen developers split perfectly cohesive methods into multiple smaller methods that require jumping between five different files to understand the flow, all because a metric said &ldquo;this is too complex.&rdquo; The metric improved. The code got worse. Nobody seemed to notice the contradiction.</p><p>In one particularly memorable case, a developer created a 200-line method that consisted entirely of calls to other private methods in the same class. Each of those methods was 10 to 15 lines and accessed the same five instance fields. The cyclomatic complexity of each individual method was beautiful. The overall design was a maintenance nightmare. But hey, the metrics dashboard was green, so management was happy.</p><p><strong>Code metrics should inform judgment, not replace it.</strong> They highlight areas that deserve scrutiny, but the decision to refactor must be based on whether the change genuinely improves the codebase. If you find yourself refactoring code that was already clear and maintainable just to lower a number, stop. You&rsquo;re making things worse while convincing yourself you&rsquo;re making them better.</p><h2 id="configuration-checklist-for-production-systems"><a href="/posts/code-metrics-configuration/#configuration-checklist-for-production-systems" title="Configuration Checklist for Production Systems">Configuration Checklist for Production Systems</a></h2><p>When setting up code metrics for a production system, ensure you:</p><ul><li><strong>Enable all relevant analyzers</strong> via <code>EnableNETAnalyzers</code> and <code>AnalysisLevel</code></li><li><strong>Configure thresholds based on your codebase</strong>, not arbitrary industry standards</li><li><strong>Validate configuration</strong> by treating warnings as errors during CI/CD builds</li><li><strong>Document your thresholds and rationale</strong> in a <code>CODE_METRICS.md</code> file</li><li><strong>Review violations as a team</strong> before enforcing automatic build failures</li><li><strong>Create exemptions for special cases</strong> (generated code, third-party code, test data builders)</li><li><strong>Monitor trends over time</strong> rather than focusing on absolute values</li><li><strong>Integrate with pull request checks</strong> to catch regressions early</li><li><strong>Provide training</strong> to help developers understand what the metrics mean</li><li><strong>Revisit thresholds regularly</strong> as the codebase and team mature</li></ul><h2 id="final-thoughts-measure-what-matters"><a href="/posts/code-metrics-configuration/#final-thoughts-measure-what-matters" title="Final Thoughts: Measure What Matters">Final Thoughts: Measure What Matters</a></h2><p>Code metrics are valuable tools when used with appropriate skepticism and contextual awareness. They can highlight potential issues, guide code reviews, and track quality trends over time. But they are <strong>diagnostic tools, not prescriptive rules</strong>. They tell you where to look, not what to do.</p><p>The CA1509 rule&rsquo;s existence (a rule about configuring rules correctly) is almost poetic in its meta-commentary on the complexity of modern code analysis. We&rsquo;ve built elaborate systems to measure code quality, then needed additional rules to ensure we&rsquo;re measuring correctly, all while the fundamental question remains: <strong>Are we building software that solves real problems effectively?</strong></p><p>Configure your code metrics thoughtfully. Understand what they measure and (equally important) what they don&rsquo;t measure. Use them to start conversations, not end them. And above all, <strong>remember that the goal is maintainable, working software, not perfectly scoring metrics.</strong></p><p>Because at the end of the day, your users don&rsquo;t care about your cyclomatic complexity. They care whether your software works reliably, performs well, and can be enhanced to meet their evolving needs. Code metrics can help you achieve that, but only if you resist the temptation to treat them as the goal itself.</p><p>If you&rsquo;re a developer who&rsquo;s been blindly following metric thresholds, consider this your wake-up call. If you&rsquo;re a team lead enforcing arbitrary complexity limits without understanding context, you&rsquo;re actively harming your codebase while congratulating yourself on maintaining &ldquo;quality standards.&rdquo; The numbers matter, but they don&rsquo;t matter more than clear, maintainable code that actually works.</p></section><section class="giscus"><h2>Comments</h2><aside class="giscus" id="giscus-thread" role="region" aria-label="Comments"></aside></section><script src="https://giscus.app/client.js" data-repo="dailydevops/dailydevops.github.io" data-repo-id="R_kgDOHA8eFg" data-category="Announcements" data-category-id="DIC_kwDOHA8eFs4COIqL" data-mapping="pathname" data-strict="1" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="bottom" data-theme="light" data-lang="en" crossorigin="anonymous" async></script></article><aside class="sidebar divider"><section class="sidecar info" aria-labelledby="info-heading"><header><h2 id="info-heading" class="sr-only">Informations</h2></header><ul role="list"><li role="listitem"><time datetime="2025-11-18T17:00:00+01:00" itemprop="datePublished">Published on 11/18/25 5:00 pm</time></li><li>Read in 14 minutes</li></ul></section><section class="sidecar author" aria-labelledby="author-martin-st%C3%BChmer"><header><h2 id="author-martin-st%C3%BChmer"><a href="/authors/martin/" rel="author" title="Martin Stühmer" itemprop="url">Author <span itemprop="name">Martin Stühmer</span></a></h2></header><figure class="round"><picture><img src="https://www.gravatar.com/avatar/6da4a47ff9cc2b750452225fdb2582f7?d=identicon&amp;s=200" alt="Martin Stühmer" loading="lazy" decoding="async" title="Martin Stühmer"></picture></figure><section class="content" itemprop="description">CTO at Integrated Worlds building cloud-native solutions on Azure with modern .NET. Nearly 20 years in .NET from Framework 2.0 to today. Microsoft Certified Trainer, former CGI Director, open-source maintainer. I’ve made every mistake, bet on dead technologies, and learned more from failures than successes. Quality isn’t optional, buzzwords don’t ship features, and experience means knowing what to avoid.</section><a class="link" href="/authors/martin/" rel="author" aria-label="Author Martin Stühmer: Read more"></a></section><section class="sidecar social" aria-labelledby="social-heading"><header><h2 id="social-heading">Social media</h2></header><nav class="social-nav" role="navigation" aria-label="Social media links"><a class="icon bluesky" href="https://bsky.app/profile/samtrion.net" rel="noopener external" aria-label="Follow me on Bluesky" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-bluesky fa-stack-1x fa-inverse"></i>
</span></a><a class="icon github" href="https://github.com/samtrion" rel="noopener external" aria-label="Follow me on GitHub" target="_blank"><i class="fa-brands fa-fw fa-github fa-2x" aria-hidden="true"></i></a>
<a class="icon linkedin" href="https://www.linkedin.com/in/martin-stuehmer" rel="noopener external" aria-label="Follow me on LinkedIn" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
</span></a><a class="icon stackoverflow" href="https://stackoverflow.com/users/10574963" rel="noopener external" aria-label="Follow me on Stack Overflow" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
</span></a><a class="icon mail" href="mailto:martin@daily-devops.net" aria-label="Contact me by e-mail" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
</span></a><a class="icon feed" href="/authors/martin/feed.rss" aria-label="My RSS feed" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></nav></section><section class="sidecar share" aria-labelledby="share-heading"><header><h2 id="share-heading">Share this content</h2></header><a class="icon linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fdaily-devops.net%2fposts%2fcode-metrics-configuration%2f&text=Code%20Metrics%20and%20Configuration%3a%20Beyond%20the%20Numbers%20Game%20%26mdash%3b%20Daily%20DevOps%20%26%20.NET" target="_blank" rel="noopener external" aria-label="Share on LinkedIn" title="Share on LinkedIn" target="_blank"><i class="fa-brands fa-fw fa-linkedin-in fa-2x"></i></a>
<a class="icon bluesky" href="https://bsky.app/intent/compose?text=Code%20Metrics%20and%20Configuration%3a%20Beyond%20the%20Numbers%20Game%20%26mdash%3b%20Daily%20DevOps%20%26%20.NET%20https%3a%2f%2fdaily-devops.net%2fposts%2fcode-metrics-configuration%2f" target="_blank" rel="noopener external" aria-label="Share on Bluesky" title="Share on Bluesky" target="_blank"><i class="fa-brands fa-fw fa-bluesky fa-2x"></i></a></section><section class="sidecar tags" aria-labelledby="tags-heading"><header><h2 id="tags-heading">Tags</h2></header><ul class="tags" role="list"><li class="tag" role="listitem"><a href="/tags/dotnet/" hreflang="en" rel="tag" title=".NET" aria-label=".NET tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;.NET</a></li><li class="tag" role="listitem"><a href="/tags/bestpractices/" hreflang="en" rel="tag" title="Best Practices" aria-label="Best Practices tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Best Practices</a></li><li class="tag" role="listitem"><a href="/tags/csharp/" hreflang="en" rel="tag" title="C#" aria-label="C# tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;C#</a></li><li class="tag" role="listitem"><a href="/tags/codequality/" hreflang="en" rel="tag" title="Code Quality" aria-label="Code Quality tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Code Quality</a></li><li class="tag" role="listitem"><a href="/tags/softwareengineering/" hreflang="en" rel="tag" title="Software Engineering" aria-label="Software Engineering tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Software Engineering</a></li><li class="tag" role="listitem"><a href="/tags/visualstudio/" hreflang="en" rel="tag" title="Visual Studio" aria-label="Visual Studio tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Visual Studio</a></li></ul></section><section class="sidecar related" aria-labelledby="related-heading"><header><h2 id="related-heading">Related content</h2></header><article class="post"><figure class="square"><picture><source srcset="/images/technical-debt-80x80.webp?v=a343aec9af21de9e8e10dee7b49e7768" type="image/webp"><source srcset="/images/technical-debt-80x80.png?v=89bb5046cc0b986270c06c1c4de9e797" type="image/png"><img src="/images/technical-debt.png?v=67ddb8f47e467b6ae8d570696cc5f79d" alt="Clean Code: A Lip Service, Not a Standard
" loading="lazy" decoding="async" title="Clean Code: A Lip Service, Not a Standard
"></picture></figure><header><h2><a href="/posts/clean-code-lip-service-not-a-standard/" rel="bookmark">Clean Code: A Lip Service, Not a Standard</a></h2></header><section class="content" role="region">Clean Code is often praised but rarely practiced effectively. This article explores how misunderstood ideals and over-engineering harm .NET systems, how to recognize such failures early, and which C# best practices and official guidelines truly support maintainable software.</section></article><article class="post"><figure class="square"><picture><source srcset="/images/dotnet-80x80.webp?v=31ba01fd09b21a3519cf43f58e88c856" type="image/webp"><source srcset="/images/dotnet-80x80.png?v=98376a285f07b0021d3118e0523d147a" type="image/png"><img src="/images/dotnet.png?v=8142ec8a038ba14415ff0d0434c78182" alt="Buzzword-Driven Development vs. Fundamental Software Quality" loading="lazy" decoding="async" title="Buzzword-Driven Development vs. Fundamental Software Quality"></picture></figure><header><h2><a href="/posts/buzzword-driven-development/" rel="bookmark">Buzzword-Driven Development vs. Fundamental Software Quality</a></h2></header><section class="content" role="region">Explore why fundamental software quality practices in .NET must never be overlooked for trendy buzzwords, including recommended analyzers and project settings for managing technical debt effectively.</section></article><article class="post"><figure class="square"><picture><source srcset="/images/vibecoding-80x80.webp?v=d35828207ee1c430fc76c981b29eef02" type="image/webp"><source srcset="/images/vibecoding-80x80.png?v=7617a55dbdf6bd7939238821b77c1a82" type="image/png"><img src="/images/vibecoding.png?v=9a36076d86533930bbd6319c257968b9" alt="Vibe Coding in .NET: Creative Catalyst or Maintenance Risk?" loading="lazy" decoding="async" title="Vibe Coding in .NET: Creative Catalyst or Maintenance Risk?"></picture></figure><header><h2><a href="/posts/vibe-coding-isnt-wrong-its-unfinished/" rel="bookmark">Vibe Coding in .NET: Creative Catalyst or Maintenance Risk?</a></h2></header><section class="content" role="region"><p>In the world of software development, there’s a recurring tension between <strong>discipline and improvisation</strong>. Somewhere along that spectrum lies a phenomenon increasingly referred to as <strong>Vibe Coding</strong>. The term evokes a style of development where engineers follow intuition and momentum rather than formal plans, processes, or design patterns.</p><p>It’s fast, fluid, and occasionally brilliant. But is it sustainable in a .NET-based enterprise context?</p></section></article></section></aside><nav class="pager" aria-label="Article navigation" role="navigation"><a class="next" href="/posts/dotnet-10-testing/" rel="next" aria-label="Next: .NET 10 Testing: Microsoft Finally Fixed the Test Runner (Mostly)
"><span class="sub"><i class="fas fa-backward" aria-hidden="true"></i>&emsp;<span class="sr-only">Next</span></span><p class="title">.NET 10 Testing: Microsoft Finally Fixed the Test Runner (Mostly)</p></a><a class="prev" href="/posts/dotnet-10-released/" rel="prev" aria-label="Previous: .NET 10: Boring by Design, Reliable by Default
"><span class="sub"><span class="sr-only">Previous</span>&emsp;<i class="fas fa-forward" aria-hidden="true"></i></span><p class="title">.NET 10: Boring by Design, Reliable by Default</p></a></nav></main><footer class="footer"><div class="divider"></div><nav><ul class="navigation"><li><a href="/tags/">Tags</a></li><li><a href="/legal-notice/">Legal notice</a></li></ul></nav><div class="copyright">&copy; 2023 - 2026 Daily DevOps & .NET</div></footer><script defer src="/js/below.min.a6ce9164454b6077f17ae856f280442d9f3a1e21f06189f71c21f75144b22a0c8cf32bafd61d440e9d90ca02bf738b6a8ef19f5ec20285d8ca574f98c91ebaf2.js" integrity="sha512-ps6RZEVLYHfxeuhW8oBELZ86HiHwYYn3HCH3UUSyKgyM8yuv1h1EDp2QygK/c4tqjvGfXsIChdjKV0+YyR668g==" crossorigin="anonymous"></script><img class="vgwort" src="https://vg05.met.vgwort.de/na/abc9361a6ab24792ba101d499aa9c17b" width="1" height="1" alt="VG Wort" title="VG Wort"></body></html>