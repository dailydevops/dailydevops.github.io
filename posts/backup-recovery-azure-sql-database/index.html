<!doctype html><html class="no-js" lang="en" dir="ltr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#15a"><title>Your Azure SQL Backups Won't Save You (Here's Why) — Daily DevOps & .NET</title><meta name="description" content="&ldquo;We have backups&rdquo; is the IT equivalent of &ldquo;thoughts and prayers.&rdquo; Comforting words that mean nothing when disaster strikes. …"><meta name="twitter:description" property="og:description" content="&ldquo;We have backups&rdquo; is the IT equivalent of &ldquo;thoughts and prayers.&rdquo; Comforting words that mean nothing when disaster strikes. …"><meta name="author" content="Martin Stühmer"><link rel="icon" href="/logo.svg?v=b9e294dc5c6fa04439c8c803d8e981a9" sizes="any" type="image/svg+xml"><meta name="twitter:title" property="og:title" content="Your Azure SQL Backups Won't Save You (Here's Why) — Daily DevOps & .NET"><meta property="og:updated_time" content="2026-01-17T17:06:07+01:00"><meta property="article:modified_time" content="2026-01-17T17:06:07+01:00"><meta property="article:published_time" content="2026-01-17T17:00:00+01:00"><meta property="og:type" content="article"><meta property="og:site_name" content="Daily DevOps & .NET"><meta property="og:url" content="https://daily-devops.net/posts/backup-recovery-azure-sql-database/"><meta property="og:locale" content="en_US"><meta name="twitter:card" content="summary_large_image"><meta property="og:image" name="twitter:image" content="https://daily-devops.net/images/azure-1200x630.webp?v=e7a8df8d2dc29f6079266525b26aeda5"><meta property="og:image:secure_url" content="https://daily-devops.net/images/azure-1200x630.webp?v=e7a8df8d2dc29f6079266525b26aeda5"><meta property="og:image:alt" name="twitter:image:alt" content="Your Azure SQL Backups Won't Save You (Here's Why)"><meta property="og:image:type" content="image/webp"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:image" name="twitter:image" content="https://daily-devops.net/images/azure-1200x630.png?v=6ea756c75ddeb050d714d3d943ca75c1"><meta property="og:image:secure_url" content="https://daily-devops.net/images/azure-1200x630.png?v=6ea756c75ddeb050d714d3d943ca75c1"><meta property="og:image:alt" name="twitter:image:alt" content="Your Azure SQL Backups Won't Save You (Here's Why)"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><link rel="dns-prefetch" href="https://www.clarity.ms"><link rel="preconnect" href="https://www.clarity.ms" crossorigin><link rel="stylesheet" href="/css/style.min.0b2ef4378cd908eb695017aaa74603d244ff2b38c8068b4b51d76cad830c8ee5e3a40b67ab5b860a542c8bae73d8ba90cfbe9249b59c733a50de74cc32af818a.css" integrity="sha512-Cy70N4zZCOtpUBeqp0YD0kT/KzjIBotLUddsrYMMjuXjpAtnq1uGClQsi65z2LqQz76SSbWcczpQ3nTMMq+Big==" crossorigin="anonymous"><link rel="alternate" href='https://daily-devops.net/posts/backup-recovery-azure-sql-database/' hreflang="x-default" title="Your Azure SQL Backups Won't Save You (Here's Why) &mdash; Daily DevOps & .NET"><link rel="canonical" href="https://daily-devops.net/posts/backup-recovery-azure-sql-database/" hreflang="en-us" title="Your Azure SQL Backups Won't Save You (Here's Why) &mdash; Daily DevOps & .NET"><link rel="home" href="https://daily-devops.net/" hreflang="en-us" title="Daily DevOps & .NET"><link rel="prev" href="https://daily-devops.net/posts/stossluften-and-software-systems/" hreflang="en-us" title="Stoßlüften: The Architecture of Intentional Resets"><link rel="author" href="https://daily-devops.net/authors/martin/" hreflang="en-us" title="Martin Stühmer &mdash; Daily DevOps & .NET"><meta name="giscus:backlink" content="https://daily-devops.net/posts/backup-recovery-azure-sql-database/"><script defer src="/js/above.min.cb42b2c9a453e49e278326637d72d2f01e7f32e3f91e9cdde8fb587793d05514efd2f5cc5021c9658ca0f73876dbdcd1f7cb4a37c0bebc9df01110926b6d7cba.js" integrity="sha512-y0KyyaRT5J4ngyZjfXLS8B5/MuP5Hpzd6PtYd5PQVRTv0vXMUCHJZYyg9zh229zR98tKN8C+vJ3wERCSa218ug==" crossorigin="anonymous"></script><script type="text/javascript">(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","o0pr4n9gg3")</script></head><body class="container"><header class="header"><a class="logo" href="/" title="Daily DevOps & .NET" rel="home"><figure class="page-logo"><picture><img src="/logo.svg?v=b9e294dc5c6fa04439c8c803d8e981a9" alt="Daily DevOps & .NET" title="Daily DevOps & .NET"></picture></figure><span class="title">Daily DevOps & .NET</span></a><nav class="menu" aria-label="Main navigation"><button class="burger" type="button" aria-haspopup="menu" aria-expanded="false" aria-label="Toggle menu">
<i class="fas fa-burger" aria-hidden="true"></i></button><ul class="navigation"><li class="active"><a href="/posts/">Posts</a></li><li><a href="/authors/">About us</a></li></ul></nav><div class="divider"></div></header><main class="body"><figure class="hero"><picture><source srcset="/images/azure-544x136.webp?v=4b1c562de2efd4852c78daadaaf46b68" type="image/webp" media="(max-width: 575.98px)"><source srcset="/images/azure-544x136.png?v=4b901f7481b1022f0719703e835cc661" type="image/png" media="(max-width: 575.98px)"><source srcset="/images/azure-672x168.webp?v=ba37dcccc6c5513ff9959c702f1249ca" type="image/webp" media="(max-width: 767.98px)"><source srcset="/images/azure-672x168.png?v=7c804fbd3f1bb84dc22df2823970617e" type="image/png" media="(max-width: 767.98px)"><source srcset="/images/azure-896x224.webp?v=4e5421377f797a238b2438dd0e406f89" type="image/webp" media="(max-width: 991.98px)"><source srcset="/images/azure-896x224.png?v=a464c31403eda74ed11b18846ccb6c78" type="image/png" media="(max-width: 991.98px)"><source srcset="/images/azure-1104x276.webp?v=cd8d6a19fd37fe251b943dca1d20e35c" type="image/webp" media="(max-width: 1199.98px)"><source srcset="/images/azure-1104x276.png?v=8ecb829379816636518a5feecfcb1a6f" type="image/png" media="(max-width: 1199.98px)"><source srcset="/images/azure-1444x361.webp?v=ca05f00f8ec77fa821b1b93373fe7e40" type="image/webp"><source srcset="/images/azure-1444x361.png?v=eddc8e40d1dbc7f7b34d3151ce294fb1" type="image/png"><img src="/images/azure.png?v=56b5dc0e16bdd55600b2a5b2d5e29237" alt="Your Azure SQL Backups Won't Save You (Here's Why)" loading="lazy" decoding="async" title="Your Azure SQL Backups Won't Save You (Here's Why)"></picture></figure><article class="post"><header><h1>Your Azure SQL Backups Won&rsquo;t Save You (Here&rsquo;s Why)</h1></header><section class="content" role="region"><p>&ldquo;We have backups&rdquo; is the IT equivalent of &ldquo;thoughts and prayers.&rdquo; Comforting words that mean nothing when disaster strikes. I&rsquo;ve watched teams discover their Azure SQL Database backups expired just before an audit, or worse, during an actual outage. The default seven-day retention feels generous until you need data from day eight.</p><p>Compliance standards demand information backup in cloud environments, but no standard can enforce what most teams ignore: actually testing those backups. The gap between &ldquo;we configured backups&rdquo; and &ldquo;we can restore our data&rdquo; has ended careers and companies. This isn&rsquo;t about checking compliance boxes. It&rsquo;s about whether your business survives the next outage.</p><h2 id="the-shared-responsibility-trap"><a href="/posts/backup-recovery-azure-sql-database/#the-shared-responsibility-trap" title="The shared responsibility trap">The shared responsibility trap</a></h2><p>Cloud providers love talking about shared responsibility, and nowhere is this more critical than backup management. Microsoft handles the infrastructure: automated backups, storage redundancy, the underlying hardware. Your responsibility? Everything that actually matters for business continuity.</p><p>Azure SQL Database automatically creates backups. That&rsquo;s where most teams stop thinking. They assume &ldquo;automatic&rdquo; means &ldquo;sufficient.&rdquo; But automatic backups with default settings are like automatic door locks that only work for a week. Technically functional, practically useless when you actually need protection.</p><p>Let me be clear about what &ldquo;automatic&rdquo; actually means in Azure SQL Database. Microsoft runs full backups weekly, differential backups every 12-24 hours, and transaction log backups every 5-10 minutes. That&rsquo;s genuinely impressive infrastructure. But here&rsquo;s the catch: all of it disappears after seven days unless you explicitly configure longer retention.</p><p>The fatal assumption: &ldquo;Microsoft backs up my database, so I&rsquo;m covered.&rdquo; The reality: Microsoft backs up your database for seven days by default. After that, your compliance requirements, audit trail, and recovery capabilities vanish unless you&rsquo;ve explicitly configured retention policies. I&rsquo;ve seen this assumption cost teams their jobs, their compliance certifications, and in one memorable case, their entire business.</p><h2 id="fatal-example-the-compliance-time-bomb"><a href="/posts/backup-recovery-azure-sql-database/#fatal-example-the-compliance-time-bomb" title="Fatal example: The compliance time bomb">Fatal example: The compliance time bomb</a></h2><p>Here&rsquo;s what I see in most Azure SQL deployments:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="c1">// Fatal: Relying on defaults without understanding the consequences</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="kd">resource</span><span class="w"> </span><span class="nv">sqlDatabase</span><span class="w"> </span><span class="s">&#39;Microsoft.Sql/servers/databases@2023-05-01-preview&#39;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">parent</span><span class="p">:</span><span class="w"> </span><span class="nv">sqlServer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;production-database&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">location</span><span class="p">:</span><span class="w"> </span><span class="nf">resourceGroup</span><span class="p">().</span><span class="nv">location</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">sku</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;S2&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">tier</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Standard&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// No backup configuration = 7-day retention</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// No long-term retention</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c1">// No geo-replication</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Looks clean, right? Deploys successfully, runs in production, passes all the automated checks. But this configuration is a time bomb waiting for the first real test.</p><p>What&rsquo;s actually wrong here:</p><ol><li><p><strong>Seven-day retention cliff</strong>: Your compliance officer asks for transaction data from last month. It doesn&rsquo;t exist. That&rsquo;s not a technical problem, that&rsquo;s a compliance violation with financial penalties.</p></li><li><p><strong>No long-term retention (LTR)</strong>: Annual audits require historical data. &ldquo;We don&rsquo;t have it anymore&rdquo; is never an acceptable answer.</p></li><li><p><strong>Single region, single point of failure</strong>: When North Europe goes down (and it does happen), your database goes with it. Hope you didn&rsquo;t promise 99.99% availability.</p></li><li><p><strong>Untested recovery</strong>: Your Recovery Time Objective (RTO) and Recovery Point Objective (RPO) are whatever you wrote in the SLA document, not what your infrastructure actually delivers. Those are two very different numbers.</p></li></ol><p>This configuration passes deployment validation. It fails the first real test: either a compliance audit asking for last year&rsquo;s data or an actual disaster requiring regional failover. I&rsquo;ve seen both happen, sometimes to the same team in the same quarter.</p><h2 id="the-recovery-time-reality"><a href="/posts/backup-recovery-azure-sql-database/#the-recovery-time-reality" title="The recovery time reality">The recovery time reality</a></h2><p>Before we fix the configuration, let&rsquo;s talk about what you&rsquo;re actually promising your stakeholders. RTO and RPO sound like consultant buzzwords until you&rsquo;re explaining to the CEO why the recovery took six hours instead of the thirty minutes you promised.</p><p>Recovery Time Objective (RTO) answers: &ldquo;How long until we&rsquo;re back online?&rdquo; Recovery Point Objective (RPO) answers: &ldquo;How much data can we afford to lose?&rdquo; These aren&rsquo;t abstract metrics. They&rsquo;re contractual commitments that determine whether your business survives an outage.</p><p>Azure SQL Database provides different RPO guarantees based on service tier:</p><ul><li><strong>Basic/Standard/Premium</strong>: RPO ≤ 5 minutes (point-in-time restore from transaction log backups every 5-10 minutes)</li><li><strong>Hyperscale</strong>: RPO ≤ 10 minutes (snapshot-based backups)</li><li><strong>Business Critical with active geo-replication</strong>: RPO ≤ 5 seconds (synchronous replication to secondary)</li></ul><p>The service tier determines your capabilities. A team choosing Standard tier for cost savings while contractually obligated to sub-minute RPO has created a compliance violation regardless of configuration quality.</p><h2 id="correct-example-backup-architecture-that-actually-works"><a href="/posts/backup-recovery-azure-sql-database/#correct-example-backup-architecture-that-actually-works" title="Correct example: Backup architecture that actually works">Correct example: Backup architecture that actually works</a></h2><p>Let&rsquo;s fix this properly. I&rsquo;ll show you the three resources that matter most for backup compliance: short-term retention, long-term retention, and geo-replication.</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bicep" data-lang="bicep"><span class="line"><span class="cl"><span class="c1">// Short-term retention: Point-in-time recovery for operational issues</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="kd">resource</span><span class="w"> </span><span class="nv">backupShortTermRetention</span><span class="w"> </span><span class="s">&#39;Microsoft.Sql/servers/databases/backupShortTermRetentionPolicies@2023-05-01-preview&#39;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">parent</span><span class="p">:</span><span class="w"> </span><span class="nv">primaryDatabase</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;default&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">properties</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">retentionDays</span><span class="p">:</span><span class="w"> </span><span class="nv">35</span><span class="w">                </span><span class="c1">// Maximum: 35 days (up from default 7)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">diffBackupIntervalInHours</span><span class="p">:</span><span class="w"> </span><span class="nv">12</span><span class="w">    </span><span class="c1">// Differential backups every 12 hours</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="c1">// Long-term retention: Compliance and historical recovery</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="kd">resource</span><span class="w"> </span><span class="nv">backupLongTermRetention</span><span class="w"> </span><span class="s">&#39;Microsoft.Sql/servers/databases/backupLongTermRetentionPolicies@2023-05-01-preview&#39;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">parent</span><span class="p">:</span><span class="w"> </span><span class="nv">primaryDatabase</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;default&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">properties</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">weeklyRetention</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;P12W&#39;</span><span class="w">   </span><span class="c1">// Keep weekly backups for 12 weeks</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">monthlyRetention</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;P12M&#39;</span><span class="w">  </span><span class="c1">// Keep monthly backups for 12 months</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">yearlyRetention</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;P7Y&#39;</span><span class="w">    </span><span class="c1">// Keep yearly backups for 7 years</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">weekOfYear</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="w">             </span><span class="c1">// Use first week of year for yearly backup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="c1">// Geo-replication: Business continuity across regions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="kd">resource</span><span class="w"> </span><span class="nv">geoReplica</span><span class="w"> </span><span class="s">&#39;Microsoft.Sql/servers/databases@2023-05-01-preview&#39;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">parent</span><span class="p">:</span><span class="w"> </span><span class="nv">secondarySqlServer</span><span class="w">  </span><span class="c1">// Server in different region (e.g., West Europe)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;production-database&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">location</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;westeurope&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">properties</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">createMode</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Secondary&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">sourceDatabaseId</span><span class="p">:</span><span class="w"> </span><span class="nv">primaryDatabase</span><span class="p">.</span><span class="nv">id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">requestedBackupStorageRedundancy</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Geo&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>These three resources transform a seven-day liability into a multi-year safety net. Let me explain what each actually does:</p><p><strong>Short-term retention</strong> covers your operational recovery scenarios. Someone drops a table at 2 AM? You can restore to any point in the last 35 days, down to the minute. The differential backup interval determines your worst-case RPO for point-in-time recovery. Twelve hours means you lose at most 12 hours of data if something catastrophic happens between differential backups.</p><p><strong>Long-term retention</strong> satisfies your compliance requirements. Those P-prefixed values are ISO 8601 durations: P12W means 12 weeks, P12M means 12 months, P7Y means 7 years. Azure automatically creates and manages these backups. You just define how long to keep them.</p><p><strong>Geo-replication</strong> handles regional disasters. When your primary region has an outage, your secondary database in another region is already synchronized and ready. The <code>requestedBackupStorageRedundancy: 'Geo'</code> ensures your backups are also stored across regions, not just your live data.</p><p>This configuration addresses the real compliance requirements:</p><ol><li><strong>Demonstrable backup procedures</strong>: 35-day short-term plus 7-year long-term retention</li><li><strong>Automated backups</strong>: Full, differential, and transaction log backups with geo-redundant storage</li><li><strong>Business continuity</strong>: Documented RTO/RPO with automatic failover capabilities</li><li><strong>Redundancy</strong>: Zone-redundant primary, geo-replicated secondary</li></ol><h2 id="point-in-time-restore-procedures"><a href="/posts/backup-recovery-azure-sql-database/#point-in-time-restore-procedures" title="Point-in-time restore procedures">Point-in-time restore procedures</a></h2><p>Configuration without tested procedures is wishful thinking. The Bicep templates deploy your backup policies, but can you actually restore data when it matters? Here&rsquo;s the essential restore workflow:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="c1"># Point-in-time restore for Azure SQL Database</span>
</span></span><span class="line"><span class="cl"><span class="nb">set</span> -euo pipefail
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">RESOURCE_GROUP</span><span class="o">=</span><span class="s2">&#34;rg-production-sql&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">SOURCE_SERVER</span><span class="o">=</span><span class="s2">&#34;sql-primary-production&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">SOURCE_DATABASE</span><span class="o">=</span><span class="s2">&#34;production-database&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">RESTORE_DATABASE</span><span class="o">=</span><span class="s2">&#34;production-restore-</span><span class="k">$(</span>date +%Y%m%d-%H%M%S<span class="k">)</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">RESTORE_POINT</span><span class="o">=</span><span class="s2">&#34;2026-01-15T14:30:00Z&#34;</span>  <span class="c1"># Must be within retention window</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Check earliest restorable point</span>
</span></span><span class="line"><span class="cl"><span class="nv">EARLIEST</span><span class="o">=</span><span class="k">$(</span>az sql db show -g <span class="s2">&#34;</span><span class="nv">$RESOURCE_GROUP</span><span class="s2">&#34;</span> -s <span class="s2">&#34;</span><span class="nv">$SOURCE_SERVER</span><span class="s2">&#34;</span> -n <span class="s2">&#34;</span><span class="nv">$SOURCE_DATABASE</span><span class="s2">&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl">  --query <span class="s2">&#34;earliestRestoreDate&#34;</span> -o tsv<span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Earliest restore point: </span><span class="nv">$EARLIEST</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Requested restore point: </span><span class="nv">$RESTORE_POINT</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Perform the restore</span>
</span></span><span class="line"><span class="cl">az sql db restore -g <span class="s2">&#34;</span><span class="nv">$RESOURCE_GROUP</span><span class="s2">&#34;</span> -s <span class="s2">&#34;</span><span class="nv">$SOURCE_SERVER</span><span class="s2">&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl">  -n <span class="s2">&#34;</span><span class="nv">$RESTORE_DATABASE</span><span class="s2">&#34;</span> --source-database <span class="s2">&#34;</span><span class="nv">$SOURCE_DATABASE</span><span class="s2">&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl">  --restore-point-in-time <span class="s2">&#34;</span><span class="nv">$RESTORE_POINT</span><span class="s2">&#34;</span> --service-objective <span class="s2">&#34;S2&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Restore initiated. Monitor with:&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;az sql db show -g </span><span class="nv">$RESOURCE_GROUP</span><span class="s2"> -s </span><span class="nv">$SOURCE_SERVER</span><span class="s2"> -n </span><span class="nv">$RESTORE_DATABASE</span><span class="s2"> --query status&#34;</span>
</span></span></code></pre></div><p>The critical line here is <code>earliestRestoreDate</code>. That tells you exactly how far back you can restore. If that date is more recent than you expected, your retention policy isn&rsquo;t configured correctly. I&rsquo;ve seen teams discover this gap at the worst possible moment: when they actually needed the data.</p><h2 id="automated-restore-validation"><a href="/posts/backup-recovery-azure-sql-database/#automated-restore-validation" title="Automated restore validation">Automated restore validation</a></h2><p>Manual restore procedures fail when they&rsquo;re needed most, during actual disasters when stress and time pressure guarantee mistakes. I&rsquo;ve seen runbooks that worked perfectly in testing fall apart during a 3 AM incident because someone missed a step or typed a parameter wrong.</p><p>Automated monthly validation proves your backups work before you need them. Here&rsquo;s a simplified GitHub Actions workflow that tests the complete restore process:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .github/workflows/backup-validation.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Monthly Backup Validation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">schedule</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">cron</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;0 2 1-7 * 0&#39;</span><span class="w">  </span><span class="c"># First Sunday of each month</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workflow_dispatch</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">permissions</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">id-token</span><span class="p">:</span><span class="w"> </span><span class="l">write  </span><span class="w"> </span><span class="c"># Required for OIDC (OpenID Connect) authentication</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">contents</span><span class="p">:</span><span class="w"> </span><span class="l">read</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">env</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">RESOURCE_GROUP</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;rg-production-sql&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">SERVER_NAME</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;sql-primary-production&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">DATABASE_NAME</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;production-database&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">validate-backup</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Azure login with OIDC</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">azure/login@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">client-id</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.AZURE_CLIENT_ID }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">tenant-id</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.AZURE_TENANT_ID }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">subscription-id</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.AZURE_SUBSCRIPTION_ID }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Perform restore and validation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          RESTORE_DB=&#34;validation-$(date +%Y%m%d-%H%M%S)&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">          RESTORE_POINT=$(date -u -d &#39;5 minutes ago&#39; +&#34;%Y-%m-%dT%H:%M:%SZ&#34;)
</span></span></span><span class="line"><span class="cl"><span class="sd">          START_TIME=$(date +%s)
</span></span></span><span class="line"><span class="cl"><span class="sd">          
</span></span></span><span class="line"><span class="cl"><span class="sd">          # Restore to validation database
</span></span></span><span class="line"><span class="cl"><span class="sd">          az sql db restore -g &#34;$RESOURCE_GROUP&#34; -s &#34;$SERVER_NAME&#34; \
</span></span></span><span class="line"><span class="cl"><span class="sd">            -n &#34;$RESTORE_DB&#34; --source-database &#34;$DATABASE_NAME&#34; \
</span></span></span><span class="line"><span class="cl"><span class="sd">            --restore-point-in-time &#34;$RESTORE_POINT&#34; --service-objective &#34;S2&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">          
</span></span></span><span class="line"><span class="cl"><span class="sd">          # Wait and verify
</span></span></span><span class="line"><span class="cl"><span class="sd">          while [[ $(az sql db show -g &#34;$RESOURCE_GROUP&#34; -s &#34;$SERVER_NAME&#34; \
</span></span></span><span class="line"><span class="cl"><span class="sd">            -n &#34;$RESTORE_DB&#34; --query status -o tsv) != &#34;Online&#34; ]]; do
</span></span></span><span class="line"><span class="cl"><span class="sd">            sleep 30
</span></span></span><span class="line"><span class="cl"><span class="sd">          done
</span></span></span><span class="line"><span class="cl"><span class="sd">          
</span></span></span><span class="line"><span class="cl"><span class="sd">          END_TIME=$(date +%s)
</span></span></span><span class="line"><span class="cl"><span class="sd">          echo &#34;Restore completed in $((END_TIME - START_TIME)) seconds&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">          
</span></span></span><span class="line"><span class="cl"><span class="sd">          # Cleanup
</span></span></span><span class="line"><span class="cl"><span class="sd">          az sql db delete -g &#34;$RESOURCE_GROUP&#34; -s &#34;$SERVER_NAME&#34; \
</span></span></span><span class="line"><span class="cl"><span class="sd">            -n &#34;$RESTORE_DB&#34; --yes --no-wait</span><span class="w">
</span></span></span></code></pre></div><p>The key insight here isn&rsquo;t the YAML syntax, it&rsquo;s the principle. Run this monthly, capture the metrics, and you have audit evidence that your backups actually work. When the compliance auditor asks &ldquo;Can you prove your backups are restorable?&rdquo; you have timestamped GitHub Actions artifacts showing successful restores for the past year.</p><p>The workflow uses OIDC (OpenID Connect) for Azure authentication instead of storing credentials as secrets. That&rsquo;s important for compliance too: no long-lived credentials to rotate or leak.</p><h2 id="health-monitoring-for-backup-status"><a href="/posts/backup-recovery-azure-sql-database/#health-monitoring-for-backup-status" title="Health monitoring for backup status">Health monitoring for backup status</a></h2><p>Monthly validation is great for audit evidence, but you also need continuous monitoring. The monthly test tells you backups worked last month. Health checks tell you they&rsquo;re working right now.</p><p>Here&rsquo;s a condensed ASP.NET Core health check that monitors the critical backup indicators:</p><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">AzureSqlBackupHealthCheck</span> <span class="p">:</span> <span class="n">IHealthCheck</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">IConfiguration</span> <span class="n">_config</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">const</span> <span class="kt">int</span> <span class="n">CriticalHours</span> <span class="p">=</span> <span class="m">48</span><span class="p">;</span>  <span class="c1">// Alert if no backup in 48h</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">AzureSqlBackupHealthCheck</span><span class="p">(</span><span class="n">IConfiguration</span> <span class="n">config</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">_config</span> <span class="p">=</span> <span class="n">config</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">HealthCheckResult</span><span class="p">&gt;</span> <span class="n">CheckHealthAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">HealthCheckContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">CancellationToken</span> <span class="n">ct</span> <span class="p">=</span> <span class="k">default</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">armClient</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ArmClient</span><span class="p">(</span><span class="k">new</span> <span class="n">DefaultAzureCredential</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">databaseId</span> <span class="p">=</span> <span class="n">SqlDatabaseResource</span><span class="p">.</span><span class="n">CreateResourceIdentifier</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">_config</span><span class="p">[</span><span class="s">&#34;Azure:SubscriptionId&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="n">_config</span><span class="p">[</span><span class="s">&#34;Azure:ResourceGroup&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="n">_config</span><span class="p">[</span><span class="s">&#34;Azure:SqlServer&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="n">_config</span><span class="p">[</span><span class="s">&#34;Azure:Database&#34;</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">database</span> <span class="p">=</span> <span class="k">await</span> <span class="n">armClient</span><span class="p">.</span><span class="n">GetSqlDatabaseResource</span><span class="p">(</span><span class="n">databaseId</span><span class="p">).</span><span class="n">GetAsync</span><span class="p">(</span><span class="n">ct</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">issues</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Check 1: Can we restore? Is earliest restore point recent?</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">earliestRestore</span> <span class="p">=</span> <span class="n">database</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">EarliestRestoreDate</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">earliestRestore</span><span class="p">.</span><span class="n">HasValue</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">HealthCheckResult</span><span class="p">.</span><span class="n">Unhealthy</span><span class="p">(</span><span class="s">&#34;No restore point available&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">backupAge</span> <span class="p">=</span> <span class="n">DateTimeOffset</span><span class="p">.</span><span class="n">UtcNow</span> <span class="p">-</span> <span class="n">earliestRestore</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">backupAge</span><span class="p">.</span><span class="n">TotalHours</span> <span class="p">&gt;</span> <span class="n">CriticalHours</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">HealthCheckResult</span><span class="p">.</span><span class="n">Unhealthy</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="s">$&#34;No backups for {backupAge.TotalHours:F0} hours&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Check 2: Is backup storage geo-redundant?</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">redundancy</span> <span class="p">=</span> <span class="n">database</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">RequestedBackupStorageRedundancy</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">redundancy</span> <span class="p">!=</span> <span class="n">SqlBackupStorageRedundancy</span><span class="p">.</span><span class="n">Geo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">issues</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">$&#34;Backup storage: {redundancy} (not geo-redundant)&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Check 3: Is TDE (Transparent Data Encryption) enabled?</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">tde</span> <span class="p">=</span> <span class="k">await</span> <span class="n">database</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">GetTransparentDataEncryptions</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="n">GetAsync</span><span class="p">(</span><span class="s">&#34;current&#34;</span><span class="p">,</span> <span class="n">ct</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">tde</span><span class="p">.</span><span class="n">Value</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">State</span> <span class="p">!=</span> <span class="n">SqlTransparentDataEncryptionState</span><span class="p">.</span><span class="n">Enabled</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">HealthCheckResult</span><span class="p">.</span><span class="n">Unhealthy</span><span class="p">(</span><span class="s">&#34;TDE not enabled&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">issues</span><span class="p">.</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">            <span class="p">?</span> <span class="n">HealthCheckResult</span><span class="p">.</span><span class="n">Degraded</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&#34;; &#34;</span><span class="p">,</span> <span class="n">issues</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="p">:</span> <span class="n">HealthCheckResult</span><span class="p">.</span><span class="n">Healthy</span><span class="p">(</span><span class="s">&#34;Backup configuration verified&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>This check answers the questions that matter: Can we restore right now? Are backups protected with geo-redundancy? Is the data encrypted? Wire this into your ASP.NET Core health endpoint, connect it to Azure Monitor, and you&rsquo;ll know within minutes when something goes wrong. Not during the next audit or the next disaster.</p><p>The key property here is <code>EarliestRestoreDate</code>. That single value tells you exactly how far back you can recover. If it&rsquo;s older than expected, something broke in your backup chain. I&rsquo;ve seen this catch backup failures that would have gone unnoticed for weeks otherwise.</p><h2 id="the-compliance-documentation-gap"><a href="/posts/backup-recovery-azure-sql-database/#the-compliance-documentation-gap" title="The compliance documentation gap">The compliance documentation gap</a></h2><p>Teams focus on technical implementation and ignore the documentation that auditors actually request. Compliance standards require documented backup procedures, tested recovery processes, and demonstrable evidence that your retention policies actually work.</p><p>I&rsquo;ve watched teams ace the technical implementation and then stumble during audits because they couldn&rsquo;t produce evidence. The auditor doesn&rsquo;t care about your elegant Bicep templates. They want to see proof that you tested recovery and it actually worked.</p><p>Your compliance documentation should include:</p><p><strong>Configuration Evidence</strong></p><ul><li>Short-term and long-term retention policies (what you configured)</li><li>Geo-replication topology (where your data lives)</li><li>Encryption validation (TDE status on primary and restored databases)</li></ul><p><strong>Recovery Procedures</strong></p><ul><li>Point-in-time restore process with step-by-step instructions</li><li>Failover group activation procedures (manual and automatic scenarios)</li><li>Validation queries to verify data integrity after restore</li></ul><p><strong>Testing Evidence</strong></p><ul><li>Monthly automated validation results (those GitHub Actions artifacts)</li><li>Measured RTO/RPO from actual restore tests, not theoretical calculations, actual measurements</li><li>Quarterly disaster recovery drill results with timestamps and outcomes</li></ul><p><strong>Monitoring Configuration</strong></p><ul><li>Health check thresholds and alerting rules</li><li>On-call procedures for backup degradation</li><li>Escalation paths when restores fail</li></ul><p>The technical implementation satisfies the engineering requirements. The documentation satisfies the compliance requirements. Skip either, and you&rsquo;ve failed the audit regardless of how good the other half looks.</p><h2 id="lessons-from-production-failures"><a href="/posts/backup-recovery-azure-sql-database/#lessons-from-production-failures" title="Lessons from production failures">Lessons from production failures</a></h2><p>I&rsquo;ve investigated enough backup-related incidents to recognize the patterns:</p><p><strong>Incident 1: The 7-day assumption</strong>
Team assumed default seven-day retention satisfied audit requirements. Compliance officer requested transaction data from eight days prior. Data didn&rsquo;t exist. Violation documented, compliance breach, financial penalty.</p><p><strong>Incident 2: The untested restore</strong>
Team configured geo-replication but never tested failover. Primary region outage triggered automatic failover. Application connection strings hardcoded to primary FQDN. Failover succeeded; application remained down for 4 hours during connection string deployment.</p><p><strong>Incident 3: The encryption surprise</strong>
Team enabled TDE on new databases but missed enabling on restored databases. Compliance scan detected unencrypted backups. Six months of backups failed compliance requirements.</p><p>These aren&rsquo;t hypothetical scenarios. They&rsquo;re production failures that wouldn&rsquo;t have occurred with proper testing and validation.</p><h2 id="final-thoughts-backups-without-verification-are-just-expensive-storage"><a href="/posts/backup-recovery-azure-sql-database/#final-thoughts-backups-without-verification-are-just-expensive-storage" title="Final thoughts: Backups without verification are just expensive storage">Final thoughts: Backups without verification are just expensive storage</a></h2><p>Azure SQL Database automatic backups are convenient until you realize convenience doesn&rsquo;t equal reliability. Compliance requires verifiable data recovery capability, not backup configuration, but actual proof that you can restore your data when it matters.</p><p>The configuration I&rsquo;ve demonstrated addresses the real requirements: proper retention that survives audit timelines, geo-redundancy that survives regional outages, encryption that survives compliance scans, and automated validation that survives the &ldquo;prove it works&rdquo; conversation.</p><p>Your backup strategy is only as reliable as your most recent successful restore. If you haven&rsquo;t tested recovery in the past 30 days, you don&rsquo;t have backups. You have optimistic assumptions stored in Azure. The distinction becomes painfully clear when you actually need the data.</p><p>Here&rsquo;s the uncomfortable truth: most teams discover their backup gaps during audits or disasters, not during normal operations. The configurations and validations in this article exist precisely to move that discovery earlier. To a scheduled GitHub Action at 2 AM on a Sunday, not to a panicked 3 AM incident response when the primary region is down.</p><p>Configure proper retention. Implement geo-replication. Automate your validation testing. Monitor continuously. Document everything. That&rsquo;s not paranoia. That&rsquo;s the difference between &ldquo;we have backups&rdquo; and &ldquo;we can restore our data.&rdquo;</p></section><section class="giscus"><h2>Comments</h2><aside class="giscus" id="giscus-thread" role="region" aria-label="Comments"></aside></section><script src="https://giscus.app/client.js" data-repo="dailydevops/dailydevops.github.io" data-repo-id="R_kgDOHA8eFg" data-category="Announcements" data-category-id="DIC_kwDOHA8eFs4COIqL" data-mapping="pathname" data-strict="1" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="bottom" data-theme="light" data-lang="en" crossorigin="anonymous" async></script></article><aside class="sidebar divider"><section class="sidecar info" aria-labelledby="info-heading"><header><h2 id="info-heading" class="sr-only">Informations</h2></header><ul role="list"><li role="listitem"><time datetime="2026-01-17T17:00:00+01:00" itemprop="datePublished">Published on 1/17/26 5:00 pm</time></li><li>Read in 12 minutes</li></ul></section><section class="sidecar author" aria-labelledby="author-martin-st%C3%BChmer"><header><h2 id="author-martin-st%C3%BChmer"><a href="/authors/martin/" rel="author" title="Martin Stühmer" itemprop="url">Author <span itemprop="name">Martin Stühmer</span></a></h2></header><figure class="round"><picture><img src="https://www.gravatar.com/avatar/6da4a47ff9cc2b750452225fdb2582f7?d=identicon&amp;s=200" alt="Martin Stühmer" loading="lazy" decoding="async" title="Martin Stühmer"></picture></figure><section class="content" itemprop="description">Martin is a software architect and developer who has spent nearly two decades navigating the .NET ecosystem from Framework 2.0 to modern .NET 10. As Director Consulting Services at CGI and a Microsoft Certified Trainer, he specializes in cloud-native solutions, enterprise architecture, and Risk and Cost Driven Architecture (RCDA). His mission is straightforward - help teams build quality software that survives contact with production. He contributes to open-source communities through NuGet packages, writes about pragmatic software engineering on this blog, and trains developers who want substance over buzzwords.</section><a class="link" href="/authors/martin/" rel="author" aria-label="Author Martin Stühmer: Read more"></a></section><section class="sidecar social" aria-labelledby="social-heading"><header><h2 id="social-heading">Social media</h2></header><nav class="social-nav" role="navigation" aria-label="Social media links"><a class="icon bluesky" href="https://bsky.app/profile/samtrion.net" rel="noopener external" aria-label="Follow me on Bluesky" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-bluesky fa-stack-1x fa-inverse"></i>
</span></a><a class="icon github" href="https://github.com/samtrion" rel="noopener external" aria-label="Follow me on GitHub" target="_blank"><i class="fa-brands fa-fw fa-github fa-2x" aria-hidden="true"></i></a>
<a class="icon linkedin" href="https://www.linkedin.com/in/martin-stuehmer" rel="noopener external" aria-label="Follow me on LinkedIn" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
</span></a><a class="icon stackoverflow" href="https://stackoverflow.com/users/10574963" rel="noopener external" aria-label="Follow me on Stack Overflow" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
</span></a><a class="icon mail" href="mailto:martin@daily-devops.net" aria-label="Contact me by e-mail" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
</span></a><a class="icon feed" href="/authors/martin/feed.rss" aria-label="My RSS feed" target="_blank"><span class="fa-stack fa-fw fa-1x" aria-hidden="true"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></nav></section><section class="sidecar share" aria-labelledby="share-heading"><header><h2 id="share-heading">Share this content</h2></header><a class="icon linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fdaily-devops.net%2fposts%2fbackup-recovery-azure-sql-database%2f&text=Your%20Azure%20SQL%20Backups%20Won%27t%20Save%20You%20%28Here%27s%20Why%29%20%26mdash%3b%20Daily%20DevOps%20%26%20.NET" target="_blank" rel="noopener external" aria-label="Share on LinkedIn" title="Share on LinkedIn" target="_blank"><i class="fa-brands fa-fw fa-linkedin-in fa-2x"></i></a>
<a class="icon bluesky" href="https://bsky.app/intent/compose?text=Your%20Azure%20SQL%20Backups%20Won%27t%20Save%20You%20%28Here%27s%20Why%29%20%26mdash%3b%20Daily%20DevOps%20%26%20.NET%20https%3a%2f%2fdaily-devops.net%2fposts%2fbackup-recovery-azure-sql-database%2f" target="_blank" rel="noopener external" aria-label="Share on Bluesky" title="Share on Bluesky" target="_blank"><i class="fa-brands fa-fw fa-bluesky fa-2x"></i></a></section><section class="sidecar tags" aria-labelledby="tags-heading"><header><h2 id="tags-heading">Tags</h2></header><ul class="tags" role="list"><li class="tag" role="listitem"><a href="/tags/azure/" hreflang="en" rel="tag" title="Azure" aria-label="Azure tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Azure</a></li><li class="tag" role="listitem"><a href="/tags/bicep/" hreflang="en" rel="tag" title="Bicep" aria-label="Bicep tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Bicep</a></li><li class="tag" role="listitem"><a href="/tags/cloud/" hreflang="en" rel="tag" title="Cloud" aria-label="Cloud tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Cloud</a></li><li class="tag" role="listitem"><a href="/tags/compliance/" hreflang="en" rel="tag" title="Compliance" aria-label="Compliance tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Compliance</a></li><li class="tag" role="listitem"><a href="/tags/database/" hreflang="en" rel="tag" title="Database Engineering" aria-label="Database Engineering tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Database Engineering</a></li><li class="tag" role="listitem"><a href="/tags/infrastructure-as-code/" hreflang="en" rel="tag" title="Infrastructure as Code (IaC)" aria-label="Infrastructure as Code (IaC) tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Infrastructure as Code (IaC)</a></li><li class="tag" role="listitem"><a href="/tags/iso-standards/" hreflang="en" rel="tag" title="ISO Standards" aria-label="ISO Standards tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;ISO Standards</a></li><li class="tag" role="listitem"><a href="/tags/security/" hreflang="en" rel="tag" title="Security" aria-label="Security tag"><i class="fas fa-tag" aria-hidden="true"></i>&nbsp;Security</a></li></ul></section><section class="sidecar related" aria-labelledby="related-heading"><header><h2 id="related-heading">Related content</h2></header><article class="post"><figure class="square"><picture><source srcset="/images/azure-aks-networking-80x80.webp?v=53cb3cbe8e42c40b4742e0504d05f7df" type="image/webp"><source srcset="/images/azure-aks-networking-80x80.png?v=5222a7b18515bd9d3098abe7fbce0d8e" type="image/png"><img src="/images/azure-aks-networking.png?v=18bd7f57024c4453f7415c91251112a9" alt="AKS Network Policies: The Security Layer Your Cluster Is Missing" loading="lazy" decoding="async" title="AKS Network Policies: The Security Layer Your Cluster Is Missing"></picture></figure><header><h2><a href="/posts/aks-network-policies-zero-trust/" rel="bookmark">AKS Network Policies: The Security Layer Your Cluster Is Missing</a></h2></header><section class="content" role="region"><p>Network segmentation is a fundamental security control for modern Kubernetes environments. AKS supports multiple networking models such as kubenet, Azure CNI, and overlay CNIs. The networking model matters, but the decisive factor for enforcing isolation and compliance is the consistent application of network policies.</p><p>This article describes how network policies work in AKS, the available engines, practical examples, and recommended practices for enforcing a zero-trust posture within a cluster.</p></section></article><article class="post"><figure class="square"><picture><source srcset="/images/azure-aks-networking-80x80.webp?v=53cb3cbe8e42c40b4742e0504d05f7df" type="image/webp"><source srcset="/images/azure-aks-networking-80x80.png?v=5222a7b18515bd9d3098abe7fbce0d8e" type="image/png"><img src="/images/azure-aks-networking.png?v=18bd7f57024c4453f7415c91251112a9" alt="AKS Networking Clash: kubenet vs. CNI vs. CNI Overlay" loading="lazy" decoding="async" title="AKS Networking Clash: kubenet vs. CNI vs. CNI Overlay"></picture></figure><header><h2><a href="/posts/aks-networking-clash/" rel="bookmark">AKS Networking Clash: kubenet vs. CNI vs. CNI Overlay</a></h2></header><section class="content" role="region"><p>Selecting the right network model is arguably one of the most critical architectural decisions you will make when deploying a Kubernetes cluster on Azure Kubernetes Service (AKS). This choice ripples through nearly every aspect of your cluster&rsquo;s lifecycle, influencing how pods communicate, how efficiently you use your IP address space, which Azure services integrate seamlessly with your workloads, and ultimately, how well your infrastructure scales to meet future demands. It affects scalability, security posture, operational cost, performance characteristics, available integration options, and your long-term operational flexibility.</p></section></article><article class="post"><figure class="square"><picture><source srcset="/images/microsoft-learn-80x80.webp?v=aaefd1a370eb1ed297bbc8d2997d1d87" type="image/webp"><source srcset="/images/microsoft-learn-80x80.png?v=7197b306e1a800460ff2859c0ef96616" type="image/png"><img src="/images/microsoft-learn.png?v=80c977bf04b013024a889cb08507fbdc" alt="Reimagining the Microsoft Certification Exam UI Experience" loading="lazy" decoding="async" title="Reimagining the Microsoft Certification Exam UI Experience | Microsoft - https://docs.microsoft.com/en-us/learn/" copyright="Microsoft - https://docs.microsoft.com/en-us/learn/"></picture></figure><header><h2><a href="/posts/reimagining-the-microsoft-certification-exam-ui/" rel="bookmark">Reimagining the Microsoft Certification Exam UI Experience</a></h2></header><section class="content" role="region">Embark on a journey through Microsoft&rsquo;s redesigned certification exam UI. Discover streamlined navigation, enhanced accessibility, and personalized experiences, revolutionizing the exam-taking experience.</section></article></section></aside><nav class="pager" aria-label="Article navigation" role="navigation"><a class="prev" href="/posts/stossluften-and-software-systems/" rel="prev" aria-label="Previous: Stoßlüften: The Architecture of Intentional Resets"><span class="sub"><span class="sr-only">Previous</span>&emsp;<i class="fas fa-forward" aria-hidden="true"></i></span><p class="title">Stoßlüften: The Architecture of Intentional Resets</p></a></nav></main><footer class="footer"><div class="divider"></div><nav><ul class="navigation"><li><a href="/tags/">Tags</a></li><li><a href="/legal-notice/">Legal notice</a></li></ul></nav><div class="copyright">&copy; 2023 - 2026 Daily DevOps & .NET</div></footer><script defer src="/js/below.min.a6ce9164454b6077f17ae856f280442d9f3a1e21f06189f71c21f75144b22a0c8cf32bafd61d440e9d90ca02bf738b6a8ef19f5ec20285d8ca574f98c91ebaf2.js" integrity="sha512-ps6RZEVLYHfxeuhW8oBELZ86HiHwYYn3HCH3UUSyKgyM8yuv1h1EDp2QygK/c4tqjvGfXsIChdjKV0+YyR668g==" crossorigin="anonymous"></script><img class="vgwort" src="https://vg05.met.vgwort.de/na/b0efce030e774a76a5856bbd7e77b37a" width="1" height="1" alt="VG Wort" title="VG Wort"></body></html>